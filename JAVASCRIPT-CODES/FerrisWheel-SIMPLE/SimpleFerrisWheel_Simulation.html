<!DOCTYPE html>
<html>
  <head>
    <title>Simple Ferris Wheel</title>
    <link rel="stylesheet"  type="text/css" href="_ejs_library/css/ejsSimulation.css" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<script type="text/javascript"><!--//--><![CDATA[//><!--
function Matrix(){var e=Array.prototype.concat.apply([],arguments);e.length||(e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.m=hasFloat32Array?new Float32Array(e):e}function Vector(e,t,n){typeof e=="object"?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=n||0)}var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.AnalyticCurve={},EJSS_DRAWING2D.analyticCurve=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Arrow={NONE:0,ANGLE:1,CIRCLE:2,RECTANGLE:3,LINE:4,CURVE:5,TRIANGLE:6,DIAMOND:7,WEDGE:8,POINTED:9,copyTo:function(e,t){EJSS_DRAWING2D.Element.copyTo(e,t),t.setMarkEnd(e.getMarkEnd()),t.setMarkStart(e.getMarkStart())},registerProperties:function(e,t){EJSS_DRAWING2D.Element.registerProperties(e,t),t.registerProperty("Offset",e.getStyle().setRelativePosition,e.getStyle().getRelativePosition),t.registerProperty("MarkEnd",e.setMarkEnd),t.registerProperty("MarkEndWidth",e.setMarkEndWidth),t.registerProperty("MarkEndHeight",e.setMarkEndHeight),t.registerProperty("MarkEndDiameter",e.setMarkEndDiameter),t.registerProperty("MarkEndColor",e.setMarkEndColor),t.registerProperty("MarkEndStroke",e.setMarkEndStroke),t.registerProperty("MarkEndRotate",e.setMarkEndRotate),t.registerProperty("MarkStart",e.setMarkStart),t.registerProperty("MarkStartWidth",e.setMarkStartWidth),t.registerProperty("MarkStartHeight",e.setMarkStartHeight),t.registerProperty("MarkStartDiameter",e.setMarkStartDiameter),t.registerProperty("MarkStartColor",e.setMarkStartColor),t.registerProperty("MarkStartStroke",e.setMarkStartStroke),t.registerProperty("MarkStartRotate",e.setMarkStartRotate),t.registerProperty("MarkMiddle",e.setMarkMiddle),t.registerProperty("MarkMiddleWidth",e.setMarkMiddleWidth),t.registerProperty("MarkMiddleHeight",e.setMarkMiddleHeight),t.registerProperty("MarkMiddleDiameter",e.setMarkMiddleDiameter),t.registerProperty("MarkMiddleColor",e.setMarkMiddleColor),t.registerProperty("MarkMiddleColorSnd",e.setMarkMiddleColorSnd),t.registerProperty("MarkMiddleStroke",e.setMarkMiddleStroke),t.registerProperty("MarkMiddleRotate",e.setMarkMiddleRotate),t.registerProperty("MarkProportion",e.setMarkProportion)}},EJSS_DRAWING2D.arrow=function(e){var t=EJSS_DRAWING2D.element(e),n=EJSS_DRAWING2D.Style,r=.5,i=EJSS_DRAWING2D.Arrow.NONE,s="none",o=12,u=10,a=-1,f=!0,l=EJSS_DRAWING2D.Arrow.ANGLE,c="none",h=12,p=12,d=-1,v=!1,m=EJSS_DRAWING2D.Arrow.NONE,g="none",y="none",b=12,w=10,E=-1,S=!1;return t._23=function(){return"ElementArrow"},t.setMarkProportion=function(e){r!=e&&(r=e,t.setChanged(!0))},t.getMarkProportion=function(){return r},t.setMarkStart=function(e){typeof e=="string"?i=EJSS_DRAWING2D.Arrow[e.toUpperCase()]:i=e},t.getMarkStart=function(){return i},t.setMarkStartColor=function(e){return typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=s&&(s=e,t.setChanged(!0)),t},t.getMarkStartColor=function(){return s},t.setMarkStartStroke=function(e){a!=e&&(a=e,t.setChanged(!0))},t.getMarkStartStroke=function(){return a},t.setMarkStartWidth=function(e){o!=e&&(o=e,t.setChanged(!0))},t.getMarkStartWidth=function(){return o},t.setMarkStartHeight=function(e){u!=e&&(u=e,t.setChanged(!0))},t.getMarkStartHeight=function(){return u},t.setMarkStartDiameter=function(e){if(u!=e||o!=e)u=e,o=e,t.setChanged(!0)},t.getMarkStartRotate=function(){return f},t.setMarkStartRotate=function(e){f!=e&&(f=e,t.setChanged(!0))},t.setMarkEnd=function(e){typeof e=="string"?l=EJSS_DRAWING2D.Arrow[e.toUpperCase()]:l=e},t.getMarkEnd=function(){return l},t.setMarkEndColor=function(e){return typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=c&&(c=e,t.setChanged(!0)),t},t.getMarkEndColor=function(){return c},t.setMarkEndStroke=function(e){d!=e&&(d=e,t.setChanged(!0))},t.getMarkEndStroke=function(){return d},t.setMarkEndWidth=function(e){h!=e&&(h=e,t.setChanged(!0))},t.getMarkEndWidth=function(){return h},t.setMarkEndHeight=function(e){p!=e&&(p=e,t.setChanged(!0))},t.getMarkEndHeight=function(){return p},t.setMarkEndDiameter=function(e){if(p!=e||h!=e)p=e,h=e,t.setChanged(!0)},t.getMarkEndRotate=function(){return v},t.setMarkEndRotate=function(e){v!=e&&(v=e,t.setChanged(!0))},t.setMarkMiddle=function(e){typeof e=="string"?m=EJSS_DRAWING2D.Arrow[e.toUpperCase()]:m=e},t.getMarkMiddle=function(){return m},t.setMarkMiddleColor=function(e){return typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=g&&(g=e,t.setChanged(!0)),t},t.getMarkMiddleColor=function(){return g},t.setMarkMiddleStroke=function(e){E!=e&&(E=e,t.setChanged(!0))},t.getMarkMiddleStroke=function(){return E},t.setMarkMiddleColorSnd=function(e){return typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=y&&(y=e,t.setChanged(!0)),t},t.getMarkMiddleColorSnd=function(){return y},t.setMarkMiddleWidth=function(e){b!=e&&(b=e,t.setChanged(!0))},t.getMarkMiddleWidth=function(){return b},t.setMarkMiddleHeight=function(e){w!=e&&(w=e,t.setChanged(!0))},t.getMarkMiddleHeight=function(){return w},t.setMarkMiddleDiameter=function(e){if(w!=e||b!=e)w=e,b=e,t.setChanged(!0)},t.getMarkMiddleRotate=function(){return S},t.setMarkMiddleRotate=function(e){S!=e&&(S=e,t.setChanged(!0))},t.registerProperties=function(e){EJSS_DRAWING2D.Arrow.registerProperties(t,e)},t.copyTo=function(e){EJSS_DRAWING2D.Arrow.copyTo(t,e)},t.setSize([.1,.1]),t.getStyle().setRelativePosition(n.SOUTH_WEST),t},EJSS_DRAWING2D.ArrowSet={},EJSS_DRAWING2D.arrowSet=function(e){var t=EJSS_DRAWING2D.elementSet(EJSS_DRAWING2D.arrow,e);return t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Axis={},EJSS_DRAWING2D.axis=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.ByteRaster={},EJSS_DRAWING2D.byteRaster=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.CellLattice={},EJSS_DRAWING2D.cellLattice=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Cursor={},EJSS_DRAWING2D.cursor=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.DrawingPanel={MOUSE_ENTERED:0,MOUSE_EXITED:1,MOUSE_PRESSES:2,MPUSE_DRAGGED:3,MOUSE_RELEASED:4,GRAPHICS2D_SVG:"SVG",GRAPHICS2D_CANVAS:"Canvas",registerProperties:function(e,t){e.setController(t),t.registerProperty("AutoScale",e.setAutoScale,e.getAutoScale),t.registerProperty("AutoScaleX",e.setAutoScaleX,e.getAutoScaleX),t.registerProperty("AutoScaleY",e.setAutoScaleY,e.getAutoScaleY),t.registerProperty("MinimumX",e.setWorldXMin,e.getWorldXMin),t.registerProperty("MaximumX",e.setWorldXMax,e.getWorldXMax),t.registerProperty("MinimumY",e.setWorldYMin,e.getWorldYMin),t.registerProperty("MaximumY",e.setWorldYMax,e.getWorldYMax),t.registerProperty("Bounds",e.setWorldCoordinates,e.getWorldCoordinates),t.registerProperty("MarginX",e.setMarginX,e.getMarginX),t.registerProperty("MarginY",e.setMarginY,e.getMarginY),t.registerProperty("Parent",e.getGraphics().setParent,e.getGraphics().getParent),t.registerProperty("Width",function(t){e.getGraphics().setWidth(t)&&e.scale()},e.getGraphics().getWidth),t.registerProperty("Height",function(t){e.getGraphics().setHeight(t)&&e.scale()},e.getGraphics().getHeight),t.registerProperty("SquareAspect",e.setSquareAspect),t.registerProperty("Graphics",e.setGraphics),t.registerProperty("Enabled",e.setEnabled),t.registerProperty("Gutters",e._25),t.registerProperty("GuttersColor",e.getGuttersStyle().setFillColor),t.registerProperty("GuttersFill",e.getGuttersStyle().setDrawFill),t.registerProperty("Background",e.getStyle().setFillColor),t.registerProperty("Foreground",e.getStyle().setLineColor),t.registerProperty("LineColor",e.getStyle().setLineColor),t.registerProperty("LineWidth",e.getStyle().setLineWidth),t.registerProperty("DrawLines",e.getStyle().setDrawLines),t.registerProperty("FillColor",e.getStyle().setFillColor),t.registerProperty("DrawFill",e.getStyle().setDrawFill),t.registerProperty("RelativePosition",e.getStyle().setRelativePosition),t.registerProperty("ShapeRendering",e.getStyle().setShapeRendering),t.registerProperty("CSS",e.getGraphics().getStyle().setCSS),t.registerProperty("TRMessage",e.getMessageDecoration("TR").setText),t.registerProperty("TLMessage",e.getMessageDecoration("TL").setText),t.registerProperty("BRMessage",e.getMessageDecoration("BR").setText),t.registerProperty("BLMessage",e.getMessageDecoration("BL").setText),t.registerProperty("CoordinatesFormat",e.getCoordinates().setFormat),t.registerProperty("ShowCoordinates",e.setShowCoordinates),t.registerProperty("CursorTypeForMove",e.getInteraction().setCursorTypeForMove),t.registerAction("OnDoubleClick",e.getInteraction().getInteractionPoint),t.registerAction("OnMove",e.getInteraction().getInteractionPoint,e.getOnMoveHandler),t.registerAction("OnPress",e.getInteraction().getInteractionPoint,e.getOnPressHandler),t.registerAction("OnDrag",e.getInteraction().getInteractionPoint,e.getOnDragHandler),t.registerAction("OnRelease",e.getInteraction().getInteractionBounds,e.getOnReleaseHandler),t.registerAction("OnResize",e.getInteraction().getInteractionBounds,e.scale),t.registerAction("OnOrientationChange",e.getInteraction().getOrientation,e.scale)}},EJSS_DRAWING2D.drawingPanel=function(e){var t={},n=EJSS_GRAPHICS.svgGraphics(e),r=EJSS_DRAWING2D.style(e),i=[],s=[],o=!1,u=!1,a=!1,f=[],l=!0,c=-1,h=1,p=-1,d=1,v={xminPreferred:NaN,xmaxPreferred:NaN,yminPreferred:NaN,ymaxPreferred:NaN,xminMeasured:NaN,xmaxMeasured:NaN,yminMeasured:NaN,ymaxMeasured:NaN,xmargin:0,ymargin:0,xmin:-1,xmax:1,ymin:-1,ymax:1,squareAspect:!1,xorigin:0,yorigin:0,xscale:1,yscale:1},m={left:0,right:0,top:0,bottom:0,visible:!1,style:EJSS_DRAWING2D.style(e+" gutters")},g=!0,y=!0,b,w={propertiesChanged:function(){},invokeAction:function(){}};t.getName=function(){return e},t.getGraphics=function(){return n},t.getStyle=function(){return r},t.setGraphics=function(t){t==EJSS_DRAWING2D.DrawingPanel.GRAPHICS2D_SVG?n=EJSS_GRAPHICS.svgGraphics(e):t==EJSS_DRAWING2D.DrawingPanel.GRAPHICS2D_CANVAS?console.log("WARNING: setGraphics() - Canvas not supported"):console.log("WARNING: setGraphics() - Graphics not supported")},t.getAutoScale=function(){return u||a},t.setAutoScale=function(e){t.setAutoScaleX(e),t.setAutoScaleY(e)},t.setAutoScaleX=function(e){u=e},t.getAutoScaleX=function(){return u},t.setAutoScaleY=function(e){a=e},t.getAutoScaleY=function(){return a},t.setWorldXMin=function(e){if(!v.xminPreferred||e!==v.xminPreferred)v.xminPreferred=e},t.getWorldXMin=function(){return v.xminPreferred},t.setWorldXMax=function(e){if(v.xmaxPreferred||e!==v.xmaxPreferred)v.xmaxPreferred=e},t.getWorldXMax=function(){return v.xmaxPreferred},t.setWorldYMin=function(e){if(v.yminPreferred||e!==v.yminPreferred)v.yminPreferred=e},t.getWorldYMin=function(){return v.yminPreferred},t.setWorldYMax=function(e){if(v.ymaxPreferred||e!==v.ymaxPreferred)v.ymaxPreferred=e},t.getWorldYMax=function(){return v.ymaxPreferred},t.setWorldCoordinates=function(e){t.setWorldXMin(e[0]),t.setWorldXMax(e[1]),t.setWorldYMin(e[2]),t.setWorldYMax(e[3])},t.getWorldCoordinates=function(){return[t.getWorldXMin(),t.getWorldXMax(),t.getWorldYMin(),t.getWorldYMax()]},t.getRealWorldCoordinates=function(){return[v.xmin,v.xmax,v.ymin,v.ymax]},t.getRealWorldXMin=function(){return v.xmin},t.getRealWorldXMax=function(){return v.xmax},t.getRealWorldYMin=function(){return v.ymin},t.getRealWorldYMax=function(){return v.ymax},t.setSquareAspect=function(e){e!==v.squareAspect&&(v.squareAspect=e,y=!0)},t.setMarginX=function(e){v.xmargin!=e&&(v.xmargin=e,y=!0)},t.getMarginX=function(){return v.xmargin},t.setMarginY=function(e){v.ymargin!=e&&(v.ymargin=e,y=!0)},t.getMarginY=function(){return v.ymargin},t.setShowCoordinates=function(e){l=e},t.addDecoration=function(e,n,r){return r?EJSS_TOOLS.addToArray(f,e,n):EJSS_TOOLS.addToArray(i,e,n),e.setPanel&&e.setPanel(t),t},t.removeDecoration=function(e){return EJSS_TOOLS.removeFromArray(i,e),EJSS_TOOLS.removeFromArray(f,e),e.setPanel&&e.setPanel(null),t},t.addElement=function(e,n){EJSS_TOOLS.addToArray(s,e,n),e.setPanel(t),o=!0},t.removeElement=function(e){EJSS_TOOLS.removeFromArray(s,e),e.setPanel(null),o=!0},t.getElements=function(){return s},t.indexOfElement=function(e){return s.indexOf(e)},t.setShowDragDecoration=function(e){e?t.addDecoration(E,0,!0):t.removeDecoration(E)},t.getDragDecoration=function(){return E},t._25=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],s=!1;t!==m.left&&(m.left=t,s=!0),n!==m.top&&(m.top=n,s=!0),r!==m.right&&(m.right=r,s=!0),i!==m.bottom&&(m.bottom=i,s=!0),s&&(m.visible=m.left>0||m.top>0||m.right>0||m.bottom>0,g=!0,y=!0)},t.getGutters=function(){return m},t.getGuttersStyle=function(){return m.style},t.toPixelAxisY=function(e){return v.yorigin-e-v.yscale*v.ymin},t.toPixelAxisX=function(e){return v.xorigin+e-v.xscale*v.xmin},t._26=function(e){return e[0]=v.xorigin+v.xscale*(e[0]-v.xmin),e[1]=v.yorigin+v.yscale*(e[1]-v.ymin),e},t.toPixelMod=function(e){return e[0]*=v.xscale,e[1]*=v.yscale,e},t.toPanelPosition=function(e){return e[0]=v.xmin+(e[0]-v.xorigin)/v.xscale,e[1]=v.ymin+(e[1]-v.yorigin)/v.yscale,e},t.toPanelMod=function(e){return e[0]=v.xscale==0?0:e[0]/v.xscale,e[1]=v.yscale==0?0:e[1]/v.yscale,e},t.scale=function(){y=!0,o=!0},v._27=function(){var e=!1,t=v.xminMeasured-Math.abs(v.xminMeasured*v.xmargin),r=v.xmaxMeasured+Math.abs(v.xmaxMeasured*v.xmargin),o=v.yminMeasured-Math.abs(v.yminMeasured*v.ymargin),u=v.ymaxMeasured+Math.abs(v.ymaxMeasured*v.ymargin),a=n.getWidth()-(m.left+m.right),l=n.getHeight()-(m.bottom+m.top),c=a/(r-t),h=l/(u-o),p,d;v.squareAspect&&(p=Math.abs(c/h),p>=1?(p=Math.min(p,a),d=(r-t)*(p-1)/2,t-=d,r+=d,c=a/(r-t)):(p=Math.max(p,1/l),d=(u-o)*(1/p-1)/2,o-=d,u+=d,h=l/(u-o))),e=v.xscale!=c||v.yscale!=-h,v.xscale=c,v.yscale=-h,v.xorigin=m.left+.5,v.yorigin=l+m.top+.5,y=!1;if(v.xmin!==t||v.xmax!==r||v.ymin!==o||v.ymax!==u){v.xmin=t,v.xmax=r,v.ymin=o,v.ymax=u;var b=!1,w,E;for(w=0,E=i.length;w<E;w++)b|=i[w].panelChangeListener&&i[w].panelChangeListener("bounds");for(w=0,E=f.length;w<E;w++)f[w].panelChangeListener&&f[w].panelChangeListener("bounds");b&&(g=!0),e=!0}if(e)for(w=0,E=s.length;w<E;w++)s[w].setMustProject(!0)},v._28=function(){var e=Number.MAX_VALUE,n=-Number.MAX_VALUE,r=Number.MAX_VALUE,i=-Number.MAX_VALUE;if(t.getAutoScaleY()||t.getAutoScaleX())for(var o=0,u=s.length;o<u;o++)if(s[o].isMeasured()&&!s[o].isGroup())if(s[o].isPixelSize()){var a=s[o].getPosition();e=Math.min(e,a[0]),n=Math.max(n,a[0]),r=Math.min(r,a[1]),i=Math.max(i,a[1])}else{var f=s[o].getBounds();e=Math.min(e,f.left),n=Math.max(n,f.right),r=Math.min(r,f.bottom),i=Math.max(i,f.top)}var l=!1;t.getAutoScaleX()?(v.xminPreferred&&(e=Math.min(e,v.xminPreferred)),v.xmaxPreferred&&(n=Math.max(n,v.xmaxPreferred)),n<=e?(l=v.xminMeasured!=c||v.xmaxMeasured!=h,v.xminMeasured=c,v.xmaxMeasured=h):(l=v.xminMeasured!=e||v.xmaxMeasured!=n,v.xminMeasured=e,v.xmaxMeasured=n)):!isNaN(v.xminPreferred)&&!isNaN(v.xmaxPreferred)?(l=v.xminMeasured!=v.xminPreferred||v.xmaxMeasured!=v.xmaxPreferred,v.xminMeasured=v.xminPreferred,v.xmaxMeasured=v.xmaxPreferred):(l=v.xminMeasured!=c||v.xmaxMeasured!=h,v.xminMeasured=c,v.xmaxMeasured=h);var m=!1;return t.getAutoScaleY()?(v.yminPreferred&&(r=Math.min(r,v.yminPreferred)),v.ymaxPreferred&&(i=Math.max(i,v.ymaxPreferred)),i<=r?(updatedY=v.yminMeasured!=p||v.ymaxMeasured!=d,v.yminMeasured=p,v.ymaxMeasured=d):(updatedY=v.yminMeasured!=r||v.ymaxMeasured!=i,v.yminMeasured=r,v.ymaxMeasured=i)):!isNaN(v.yminPreferred)&&!isNaN(v.ymaxPreferred)?(updatedY=v.yminMeasured!=v.yminPreferred||v.ymaxMeasured!=v.ymaxPreferred,v.yminMeasured=v.yminPreferred,v.ymaxMeasured=v.ymaxPreferred):(updatedY=v.yminMeasured!=p||v.ymaxMeasured!=d,v.yminMeasured=p,v.ymaxMeasured=d),l||updatedY},t.reset=function(){n.reset()},t.render=function(){var e=!1;o&&(n.reset(),e=!0,o=!1);var r=v._28();(y||r)&&v._27();if(g||e)n.drawPanel(t),n.draw(i);n.draw(s,e),(g||e)&&n._24(t),n.draw(f),g=!1;for(var u=0,a=s.length;u<a;u++)s[u].setChanged(!1)},t.setEnabled=function(e){b.setEnabled(e)},t.getPanelInteraction=function(){return b},t.getController=function(){return w},t.setController=function(e){w=e},t.getOnMoveHandler=null,t.getOnPressHandler=function(){if(l){var e=b.getInteractionPoint(),n=t.getRealWorldCoordinates();n[0]<e[0]&&n[1]>e[0]&&n[3]>e[1]&&n[2]<e[1]&&(C.setText(e),C.setVisible(!0),C.getController().propertiesChanged("Visible","Text"))}},t.getOnDragHandler=function(){if(l){var e=b.getInteractionPoint(),n=t.getRealWorldCoordinates();n[0]<e[0]&&n[1]>e[0]&&n[3]>e[1]&&n[2]<e[1]&&(C.setText(e),C.setVisible(!0),C.getController().propertiesChanged("Visible","Text"))}var r=b.getInteractionBounds();E.setBounds(r),E.setVisible(!0),E.getController().propertiesChanged("Position","X","Y","Size","SizeX","SizeY")},t.getOnReleaseHandler=function(){l&&(C.setVisible(!1),C.getController().propertiesChanged("Visible")),E.setVisible(!1),E.getController().propertiesChanged("Visible")},t.getMessageDecoration=function(e){switch(e){case"TL":return S;case"BR":return T;case"BL":return x}return N},t.getCoordinates=function(){return C},t.getInteraction=function(){return b},t.registerProperties=function(e){EJSS_DRAWING2D.DrawingPanel.registerProperties(t,e)},r.setLineColor("black"),r.setFillColor("rgb(239,239,255)"),r.setChangeListener(function(e){g=!0}),m.style.setChangeListener(function(e){g=!0});var E=EJSS_DRAWING2D.shape(e+"__cursorBox__");E.setShapeType(EJSS_DRAWING2D.Shape.RECTANGLE),E.getStyle().setDrawFill(!1),E.getStyle().setLineColor("black"),E.getStyle().setRelativePosition(EJSS_DRAWING2D.Style.SOUTH_WEST),E.setVisible(!1),t.addDecoration(E,0,!0);var S=EJSS_DRAWING2D.text(e+"__tlmessage__");S.getStyle().setRelativePosition("CENTER"),S.getStyle().setDrawLines(!0),S.getStyle().setDrawFill(!0),S.getStyle().setFillColor("yellow"),S.getStyle().setLineColor("black"),S.getFont().setFontSize(12),S.setWritingTarget("TARGET_TOPLEFT"),S.setPosition([v.xmin,v.ymax]),S.setFramed(!0),S.panelChangeListener=function(e){e=="bounds"&&S.setPosition([v.xmin,v.ymax])},t.addDecoration(S,0,!0);var x=EJSS_DRAWING2D.text(e+"__blmessage__");x.getStyle().setRelativePosition("CENTER"),x.getStyle().setDrawLines(!0),x.getStyle().setDrawFill(!0),x.getStyle().setFillColor("yellow"),x.getStyle().setLineColor("black"),x.getFont().setFontSize(12),x.setWritingTarget("TARGET_BOTTOMLEFT"),x.setPosition([v.xmin,v.ymin]),x.setFramed(!0),x.panelChangeListener=function(e){e=="bounds"&&x.setPosition([v.xmin,v.ymin])},t.addDecoration(x,0,!0);var T=EJSS_DRAWING2D.text(e+"__brmessage__");T.getStyle().setRelativePosition("CENTER"),T.getStyle().setDrawLines(!0),T.getStyle().setDrawFill(!0),T.getStyle().setFillColor("yellow"),T.getStyle().setLineColor("black"),T.getFont().setFontSize(12),T.setWritingTarget("TARGET_BOTTOMRIGTH"),T.setPosition([v.xmax,v.ymin]),T.setFramed(!0),T.panelChangeListener=function(e){e=="bounds"&&T.setPosition([v.xmax,v.ymin])},t.addDecoration(T,0,!0);var N=EJSS_DRAWING2D.text(e+"__trmessage__");N.getStyle().setRelativePosition("CENTER"),N.getStyle().setDrawLines(!0),N.getStyle().setDrawFill(!0),N.getStyle().setFillColor("yellow"),N.getStyle().setLineColor("black"),N.getFont().setFontSize(12),N.setWritingTarget("TARGET_TOPRIGTH"),N.setPosition([v.xmax,v.ymax]),N.setFramed(!0),N.panelChangeListener=function(e){e=="bounds"&&N.setPosition([v.xmax,v.ymax])},t.addDecoration(N,0,!0);var C=EJSS_DRAWING2D.infoText(e+"__coor__");return C.getStyle().setRelativePosition("CENTER"),C.getFont().setFontSize(12),C.getStyle().setFillColor("yellow"),C.setWritingTarget("TARGET_BOTTOMLEFT"),C.setPosition([v.xmin,v.ymin]),C.setFormat("x:0.##,y:0.##"),C.setFramed(!0),C.setVisible(!1),C.panelChangeListener=function(e){e=="bounds"&&C.setPosition([v.xmin,v.ymin])},t.addDecoration(C,0,!0),t.getGuttersStyle().setLineColor("black"),t.getGuttersStyle().setFillColor("rgb(239,239,255)"),t.getGuttersStyle().setShapeRendering("RENDER_CRISPEDGES"),b=EJSS_DRAWING2D.panelInteraction(t),t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Element={copyTo:function(e,t){var n=EJSS_DRAWING2D.InteractionTarget,r=EJSS_DRAWING2D.PanelInteraction.TARGET_POSITION,i=EJSS_DRAWING2D.PanelInteraction.TARGET_SIZE;EJSS_DRAWING2D.Style.copyTo(e.getStyle(),t.getStyle()),t.setVisible(e.isVisible()),t.setMeasured(e.isMeasured()),t.setPosition(e.getPosition()),t.setPixelPosition(e.isPixelPosition()),t.setSize(e.getSize()),t.setPixelSize(e.isPixelSize()),t.setTransformation(e.getTransformation()),n.copyTo(e.getInteractionTarget(r),t.getInteractionTarget(r)),n.copyTo(e.getInteractionTarget(i),t.getInteractionTarget(i)),t.setParent(e.getParent())},registerProperties:function(e,t){var n=EJSS_DRAWING2D.Element,r=EJSS_DRAWING2D.PanelInteraction.TARGET_POSITION,i=EJSS_DRAWING2D.PanelInteraction.TARGET_SIZE;e.setController(t),t.registerProperty("Parent",e.setParent,e.getParent),t.registerProperty("X",e.setX,e.getX),t.registerProperty("Y",e.setY,e.getY),t.registerProperty("Position",e.setPosition,e.getPosition),t.registerProperty("PixelPosition",e.setPixelPosition,e.getPixelPosition),t.registerProperty("Size",e.setSize,e.getSize),t.registerProperty("SizeX",e.setSizeX,e.getSizeX),t.registerProperty("SizeY",e.setSizeY,e.getSizeY),t.registerProperty("PixelSize",e.setPixelSize,n.getPixelSize),t.registerProperty("Bounds",e.setBounds,e.getBounds),t.registerProperty("Transformation",function(t){e.setRotationTransformation(t)}),t.registerProperty("Visibility",e.setVisible,e.isVisible),t.registerProperty("Measured",e.setMeasured,e.isMeasured),t.registerProperty("LineColor",e.getStyle().setLineColor,e.getStyle().getLineColor),t.registerProperty("LineWidth",e.getStyle().setLineWidth,e.getStyle().getLineWidth),t.registerProperty("DrawLines",e.getStyle().setDrawLines,e.getStyle().getDrawLines),t.registerProperty("FillColor",e.getStyle().setFillColor,e.getStyle().getFillColor),t.registerProperty("DrawFill",e.getStyle().setDrawFill,e.getStyle().getDrawFill),t.registerProperty("RelativePosition",e.getStyle().setRelativePosition,e.getStyle().getRelativePosition),t.registerProperty("ShapeRendering",e.getStyle().setShapeRendering,e.getStyle().getShapeRendering),t.registerProperty("Attributes",e.getStyle().setAttributes,e.getStyle().getAttributes),t.registerProperty("EnabledPosition",function(t){e.getInteractionTarget(r).setMotionEnabled(t)}),t.registerProperty("MovesGroup",function(t){e.getInteractionTarget(r).setAffectsGroup(t)}),t.registerProperty("EnabledSize",function(t){e.getInteractionTarget(i).setMotionEnabled(t)}),t.registerProperty("ResizesGroup",function(t){e.getInteractionTarget(i).setAffectsGroup(t)}),t.registerProperty("Sensitivity",function(t){e.getInteractionTarget(r).setSensitivity(t),e.getInteractionTarget(i).setSensitivity(t)}),t.registerAction("OnEnter",e.getPosition),t.registerAction("OnExit",e.getPosition),t.registerAction("OnPress",e.getPosition),t.registerAction("OnDrag",e.getPosition),t.registerAction("OnRelease",e.getPosition)}},EJSS_DRAWING2D.element=function(e){var t={},n=EJSS_DRAWING2D.Element,r=EJSS_DRAWING2D.Style,i=EJSS_DRAWING2D.PanelInteraction,s=EJSS_DRAWING2D.style(e),o=!0,u=!0,a=0,f=0,l=!1,c=1,h=1,p=!1,d=EJSS_DRAWING2D.transformation(),v={positionTarget:EJSS_DRAWING2D.interactionTarget(t,i.TARGET_POSITION,r.CENTER),sizeTarget:EJSS_DRAWING2D.interactionTarget(t,i.TARGET_SIZE,r.NORTH_EAST)},m=null,g=!0,y=null,b=null,w=-1,E=!0,S=[],x=[],T={propertiesChanged:function(){},invokeAction:function(){}};return t.copyTo=function(e){n.copyTo
(t,e)},t.getName=function(){return e},t.getInfo=function(){var e="x="+a.toFixed(2)+" y="+f.toFixed(2);return e},t.setVisible=function(e){e!=o&&(o=e,E=!0)},t.isVisible=function(){return o},t.isGroupVisible=function(){var e=y;while(typeof e!="undefined"&&e!==null){if(!e.isVisible())return!1;e=e.getGroup()}return o},t.getStyle=function(){return s},t.setMeasured=function(e){u=e},t.isMeasured=function(){return u},t.setX=function(e){a!=e&&(a=e,E=!0)},t.getX=function(){return a},t.setY=function(e){f!=e&&(f=e,E=!0)},t.getY=function(){return f},t.setPosition=function(e){t.setX(e[0]),t.setY(e[1])},t.getPosition=function(){return[a,f]},t.setPixelPosition=function(e){l!=e&&(l=e,E=!0)},t.isPixelPosition=function(){return l},t.setSizeX=function(e){c!=e&&(c=e,E=!0)},t.getSizeX=function(){return c},t.setSizeY=function(e){h!=e&&(h=e,E=!0)},t.getSizeY=function(){return h},t.setSize=function(e){t.setSizeX(e[0]),t.setSizeY(e[1])},t.getSize=function(){return[t.getSizeX(),t.getSizeY()]},t.setPixelSize=function(e){p!=e&&(p=e,E=!0)},t.isPixelSize=function(){return p},t.getBounds=function(){var e=p?m.toPanelMod([c,-h]):[c,h],t=e[0]/2,n=e[1]/2,r=s.getRelativePositionOffset(e[0],e[1]);return{left:a+r[0]-t,right:a+r[0]+t,top:f+r[1]+n,bottom:f+r[1]-n}},t.setBounds=function(e){var n=e[1]-e[0],r=e[3]-e[2],i=s.getRelativePositionOffset(n,r),o=n/2,u=r/2,a=e[0]+o-i[0],f=e[2]+u-i[1];t.setX(a),t.setY(f),t.setSizeX(n),t.setSizeY(r)},t.setPanel=function(e){m=e,g=!0},t.getPanel=function(){return m},t.getGroupPanel=function(){var e=t;while(e.getGroup())e=e.getGroup();return e.getPanel()},t.setGroup=function(e){y=e,E=!0},t.getGroup=function(){return y},t.setSet=function(e,t){b=e,w=t},t.getSet=function(){return b},t.getSetIndex=function(){return w},t.setParent=function(e){e.render?(t.setGroup(null),e.addElement(t),t.setPanel(e)):e._23()=="ElementGroup"?(t.setGroup(e),t.getGroupPanel().addElement(t),t.setPanel(t.getGroupPanel())):console.log("WARNING: setParent() - Parent not valid : "+e.getName())},t.getParent=function(){var e;return y!==null?e=t.getGroup():e=t.getPanel(),e},t.isGroup=function(){return!1},t.setTransformation=function(e){typeof e=="undefined"||e===null?e=EJSS_DRAWING2D.transformation():Array.isArray(e)&&e.length>5&&(e=EJSS_DRAWING2D.transformation({a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]})),EJSS_DRAWING2D.Transformation.compare(d,e)||(d.setTransform(e),E=!0)},t.setRotationTransformation=function(e){tr=EJSS_DRAWING2D.transformation(),tr.setToRotation(e),EJSS_DRAWING2D.Transformation.compare(d,tr)||(d.setTransform(tr),E=!0)},t.getTransformation=function(){return d},t.getGroupTransformation=function(){var e=EJSS_DRAWING2D.transformation(),n=t;while(typeof n!="undefined"&&n!==null)e.concatenate(n.getTransformation()),n=n.getGroup();return e},t.isChanged=function(){return E},t.setChanged=function(e){E=e},t.isGroupChanged=function(){var e=t.getGroup();while(typeof e!="undefined"&&e!==null){if(e.isChanged())return!0;e=e.getGroup()}return!1},t.setMustProject=function(e){g=e},t.isMustProject=function(){return g},t.getPixelPosition=function(){if(t.isChanged()||t.isGroupChanged()||t.isMustProject())l?S=[t.getGroupPanel().toPixelAxisX(a),t.getGroupPanel().toPixelAxisY(f)]:S=t.getGroupPanel()._26(t.toGroupSpace([0,0])),p?x=[t.getSizeX(),-t.getSizeY()]:x=t.getGroupPanel().toPixelMod(t.toGroupSpaceMod([t.getSizeX(),t.getSizeY()])),t.setMustProject(!1);return S},t.getPixelSizes=function(){if(t.isChanged()||t.isGroupChanged()||t.isMustProject())l?S=[t.getGroupPanel().toPixelAxisX(a),t.getGroupPanel().toPixelAxisY(f)]:S=t.getGroupPanel()._26(t.toGroupSpace([0,0])),p?x=[t.getSizeX(),-t.getSizeY()]:x=t.getGroupPanel().toPixelMod(t.toGroupSpaceMod([t.getSizeX(),t.getSizeY()])),t.setMustProject(!1);return x},t.toGroupSpace=function(e){d.transform(e),e[0]+=a,e[1]+=f;var t=y;while(typeof t!="undefined"&&t!==null)e[0]*=t.getSizeX(),e[1]*=t.getSizeY(),t.getTransformation().transform(e),e[0]+=t.getX(),e[1]+=t.getY(),t=t.getGroup();return e},t.toGroupSpaceVector=function(e){d.transformVector(e);var t=y;while(typeof t!="undefined"&&t!==null)e[0]*=t.getSizeX(),e[1]*=t.getSizeY(),t.getTransformation().transformVector(e),t=t.getGroup();return e},t.toGroupSpaceMod=function(e){var t=y;while(typeof t!="undefined"&&t!==null)e[0]*=t.getSizeX(),e[1]*=t.getSizeY(),t=t.getGroup();return e},t.toElementSpace=function(e){var n=[],r=t.getGroup();while(typeof r!="undefined"&&r!==null)n[n.length]=r,r=r.getGroup();for(var i=n.length-1;i>=0;i--)r=n[i],e[0]-=r.getX(),e[1]-=r.getY(),r.getTransformation().inverseTransform(e),r!==t&&(r.getSizeX()!==0&&(e[0]/=r.getSizeX()),r.getSizeY()!==0&&(e[1]/=r.getSizeY()));return e},t.getController=function(){return T},t.setController=function(e){T=e},t.getInteractionTarget=function(e){switch(e){case i.TARGET_POSITION:return v.positionTarget;case i.TARGET_SIZE:return v.sizeTarget}return null},t.getInteractionTargets=function(){return[v.positionTarget,v.sizeTarget]},t.registerProperties=function(e){n.registerProperties(t,e)},s.setChangeListener(function(e){E=!0}),t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.ElementSet={registerProperties:function(e,t){var n=EJSS_DRAWING2D.Element,r=EJSS_DRAWING2D.PanelInteraction.TARGET_POSITION,i=EJSS_DRAWING2D.PanelInteraction.TARGET_SIZE;e.setController(t),e.setToEach(function(e,t){e.setController(t)},t),t.registerProperty("Parent",function(t){e.setParent(t),e.setToEach(function(e,t){e.setParent(t)},e)}),t.registerProperty("NumberOfElements",e.setNumberOfElements),t.registerProperty("ElementInteracted",e.setElementInteracted,e.getElementInteracted),t.registerProperty("X",function(t){e.setToEach(function(e,t){e.setX(t)},t)},function(){return e.getFromEach(function(e){return e.getX()})}),t.registerProperty("Y",function(t){e.setToEach(function(e,t){e.setY(t)},t)},function(){return e.getFromEach(function(e){return e.getY()})}),t.registerProperty("Position",function(t){e.setToEach(function(e,t){e.setPosition(t)},t)},function(){return e.getFromEach(function(e){return e.getPosition()})}),t.registerProperty("PixelPosition",function(t){e.setToEach(function(e,t){e.setPixelPosition(t)},t)}),t.registerProperty("SizeX",function(t){e.setToEach(function(e,t){e.setSizeX(t)},t)},function(){return e.getFromEach(function(e){return e.getSizeX()})}),t.registerProperty("SizeY",function(t){e.setToEach(function(e,t){e.setSizeY(t)},t)},function(){return e.getFromEach(function(e){return e.getSizeY()})}),t.registerProperty("Size",function(t){e.setToEach(function(e,t){e.setSize(t)},t)},function(){return e.getFromEach(function(e){return e.getSize()})}),t.registerProperty("PixelSize",function(t){e.setToEach(function(e,t){e.setPixelSize(t)},t)}),t.registerProperty("Bounds",function(t){var n=function(e,t){e.setX(t[0]),e.setY(t[2]),e.setSizeX(t[1]-t[0]),e.setSizeY(t[3]-t[2])};e.setToEach(n,t)},function(){var t=function(e){return[e.getX(),e.getX()+e.getSizeX(),e.getY(),e.getY()+e.getSizeY()]};return e.getFromEach(t)}),t.registerProperty("Transformation",function(t){e.setToEach(function(e,t){e.setRotationTransformation(t)},t)}),t.registerProperty("Visibility",function(t){e.setToEach(function(e,t){e.setVisible(t)},t)}),t.registerProperty("Measured",function(t){e.setToEach(function(e,t){e.setMeasured(t)},t)}),t.registerProperty("LineColor",function(t){e.setToEach(function(e,t){e.getStyle().setLineColor(t)},t)}),t.registerProperty("LineWidth",function(t){e.setToEach(function(e,t){e.getStyle().setLineWidth(t)},t)}),t.registerProperty("DrawLines",function(t){e.setToEach(function(e,t){e.getStyle().setDrawLines(t)},t)}),t.registerProperty("FillColor",function(t){e.setToEach(function(e,t){e.getStyle().setFillColor(t)},t)}),t.registerProperty("DrawFill",function(t){e.setToEach(function(e,t){e.getStyle().setDrawFill(t)},t)}),t.registerProperty("Attributes",function(t){e.setToEach(function(e,t){e.getStyle().setAttributes(t)},t)}),t.registerProperty("RelativePosition",function(t){e.setToEach(function(e,t){e.getStyle().setRelativePosition(t)},t)}),t.registerProperty("ShapeRendering",function(t){e.setToEach(function(e,t){e.getStyle().setShapeRendering(t)},t)}),t.registerProperty("EnabledPosition",function(t){e.setToEach(function(e,t){e.getInteractionTarget(r).setMotionEnabled(t)},t)}),t.registerProperty("MovesGroup",function(t){e.setToEach(function(e,t){e.getInteractionTarget(r).setAffectsGroup(t)},t)}),t.registerProperty("EnabledSize",function(t){e.setToEach(function(e,t){e.getInteractionTarget(i).setMotionEnabled(t)},t)}),t.registerProperty("ResizesGroup",function(t){e.setToEach(function(e,t){e.getInteractionTarget(i).setAffectsGroup(t)},t)}),t.registerProperty("Sensitivity",function(t){e.setToEach(function(e,t){e.getInteractionTarget(r).setSensitivity(t),e.getInteractionTarget(i).setSensitivity(t)},t)});var s=function(){var n=e.getGroupPanel(),r=n.getPanelInteraction().getIndexElement(),i=n.getElements()[r],s=i.getSetIndex();return e.setElementInteracted(s),t.propertiesChanged("ElementInteracted"),{index:s,position:i.getPosition()}};t.registerAction("OnEnter",s),t.registerAction("OnExit",s),t.registerAction("OnPress",s),t.registerAction("OnDrag",s),t.registerAction("OnRelease",s)}},EJSS_DRAWING2D.elementSet=function(e,t){var n=EJSS_DRAWING2D.group(t),r=EJSS_DRAWING2D.ElementSet,i=[],s=-1,o=[];n.setNumberOfElements=function(t){var r=n.getName?n.getName():"unnamed";t=Math.max(1,t);var s=i.length-t;if(s>0){o=i.splice(t,s);for(var u=0;u<o.length;u++){var a=o[u].getPanel();a&&a.removeElement(o[u])}}else if(s<0){o=[];var f=n.getController(),l=i[i.length-1];for(var c=i.length;c<t;c++){var h=e(r+"["+c+"]");h.setSet(n,c),l.copyTo(h),h.setController(f),i.push(h)}}},n.getElements=function(){return i},n.getLastElements=function(){var e=o.slice();return o=[],e},n.setElementInteracted=function(e){s=e},n.getElementInteracted=function(){return s};var u=n.setPanel;n.setPanel=function(e){u(e);for(var t=0,n=i.length;t<n;t++)i[t].setPanel(e)},n.setMustProject=function(e){for(var t=0,n=i.length;t<n;t++)i[t].setMustProject(e)},n.setToEach=function(e,t){if(Array.isArray(t)){i.length==1&&n.setNumberOfElements(t.length);for(var r=0,s=Math.min(i.length,t.length);r<s;r++)e(i[r],t[r])}else for(var r=0,s=i.length;r<s;r++)e(i[r],t)},n.getFromEach=function(e){var t=[];for(var n=0,r=i.length;n<r;n++)t[n]=e(i[n]);return t},n.registerProperties=function(e){r.registerProperties(n,e)};var a=e(t+"[0]");return a.setController(n.getController()),a.setSet(n,0),i.push(a),n};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Grid={},EJSS_DRAWING2D.grid=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Group={},EJSS_DRAWING2D.group=function(e){var t=EJSS_DRAWING2D.element(e);return t._23=function(){return"ElementGroup"},t.isGroup=function(){return!0},t},EJSS_DRAWING2D.GroupSet={},EJSS_DRAWING2D.groupSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Image={},EJSS_DRAWING2D.image=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.ImageSet={},EJSS_DRAWING2D.imageSet=function(e){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.analyticCurve=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.arrow=function(e,t){function n(t,n,r,s,o,u,a,f,l,c){var h,p,d=e.getElementById(t);d===null?(d=document.createElementNS("http://www.w3.org/2000/svg","marker"),d.setAttribute("id",t),h=document.createElementNS("http://www.w3.org/2000/svg","path"),h.setAttribute("id",t+".markpath"),d.appendChild(h),p=document.createElementNS("http://www.w3.org/2000/svg","path"),p.setAttribute("id",t+".markpath2"),d.appendChild(p),e.getElementsByTagName("defs")[0].appendChild(d)):(h=e.getElementById(t+".markpath"),p=e.getElementById(t+".markpath2"),e.getElementsByTagName("defs")[0].insertBefore(d,d));var v=s+2*u,m=o+2*u;d.setAttribute("viewBox",-u+" "+ -u+" "+v+" "+m),d.setAttribute("refX",s/2),d.setAttribute("refY",o/2),d.setAttribute("markerUnits","userSpaceOnUse"),d.setAttribute("markerWidth",v),d.setAttribute("markerHeight",m),d.setAttribute("orient","auto"),h.setAttribute("fill",a),h.setAttribute("stroke",a),h.setAttribute("stroke-width",u),h.setAttribute("style","  marker-start :none;   marker-end :none; "),p.setAttribute("fill",f),p.setAttribute("stroke",f),p.setAttribute("stroke-width",u),p.setAttribute("style","  marker-start :none;   marker-end :none; ");switch(n){case i.TRIANGLE:var g="M 0 0 L "+s+" "+o/2+" L 0 "+o+" z";h.setAttribute("d",g);break;case i.ANGLE:d.setAttribute("viewBox","0 0 "+v+" "+o),d.setAttribute("markerHeight",o),d.setAttribute("refX",s);var y=-(u-1),b=o+(u-1),g="M 0 "+y+" L "+s+" "+o/2+" L 0 "+b;h.setAttribute("d",g),h.setAttribute("fill","none");break;case i.LINE:var g="M "+s/2+" 0 L "+s/2+" "+o+" z";h.setAttribute("d",g);break;case i.RECTANGLE:var g="M 0 0 L "+s+" 0 L "+s+" "+o+" L 0 "+o+" z";h.setAttribute("d",g);break;case i.DIAMOND:var g="M "+s/2+" 0 L "+s+" "+o/2+" L "+s/2+" "+o+" L 0 "+o/2+" z";h.setAttribute("d",g);break;case i.CIRCLE:var w=s<o?s:o;w/=2;var g="M "+s/2+" "+o/2+" m "+ -w+", 0 a "+w+","+w+" 0 1,0 "+w*2+",0"+" a "+w+","+w+" 0 1,0 "+ -w*2+",0";h.setAttribute("d",g);break;case i.WEDGE:h.setAttribute("stroke-width",0),p.setAttribute("stroke-width",.5);var E=typeof c=="undefined"||c===0?0:Math.atan(l/c),w=s<o?s:o;w/=2;var S=s/2,x=o/2,T=S+w*Math.cos(E),N=x-w*Math.sin(E),C=S+w*Math.cos(Math.PI/3.25-E),k=x+w*Math.sin(Math.PI/3.25-E),L=" M "+S+" "+x+" L "+T+","+N+" A "+w+","+w+" 0 0,1 "+C+","+k,A="M "+S+" "+x+" m "+ -w+", 0 a "+w+","+w+" 0 1,0 "+w*2+",0"+" a "+w+","+w+" 0 1,0 "+ -w*2+",0 ";h.setAttribute("d",A),p.setAttribute("d",L);break;case i.POINTED:d.setAttribute("refX",s),h.setAttribute("stroke-width",0);var g="M 0 0 L "+s+" "+o/2+" L 0 "+o+" L "+s/2+" "+o/2+" L 0 0 z";h.setAttribute("d",g);break;case i.CURVE:d.setAttribute("refX",s),h.setAttribute("stroke-width",0);var O=s*3,M=o/2.5,g="M 0 0  A "+O+","+O+" 1 0,0 "+s+","+o/2+" A "+O+","+O+" 1 0,0 "+" 0,"+o+" A "+M+","+M+" 1 0,0 "+" 0,"+o/2+" A "+M+","+M+" 1 0,0 "+" 0,0 z";h.setAttribute("d",g)}r&&d.setAttribute("orient","180deg")}var r=EJSS_SVGGRAPHICS.Utils,i=EJSS_DRAWING2D.Arrow,s=t.getGroup();s!==null?group=e.getElementById(s.getName()):group=e;var o=e.getElementById(t.getName());o===null&&(o=document.createElementNS("http://www.w3.org/2000/svg","path"),o.setAttribute("id",t.getName()),group.appendChild(o));var u=t.getPixelPosition(),a=t.getPixelSizes(),f=t.getStyle().getRelativePositionOffset(a),l=u[0]+f[0],c=u[1]+f[1],h=a[0]/2,p=a[1]/2;if(a[0]!=0||a[1]!=0){if(t.getMarkEnd()!=i.NONE){var d=t.getMarkProportion()*EJSS_TOOLS.Mathematics.norm([a[0],a[1]]),v=d!=0&&d<t.getMarkEndWidth()?d:t.getMarkEndWidth(),m=d!=0&&d<t.getMarkEndHeight()?d:t.getMarkEndHeight(),g=t.getMarkEndColor()=="none"?t.getStyle().getLineColor():t.getMarkEndColor(),y=t.getMarkEndStroke()<0?t.getStyle().getLineWidth():t.getMarkEndStroke();n(t.getName()+".end",t.getMarkEnd(),t.getMarkEndRotate(),v,m,y,g),o.setAttribute("marker-end","url(#"+t.getName()+".end"+")")}if(t.getMarkMiddle()!=i.NONE){var b=t.getMarkProportion()*EJSS_TOOLS.Mathematics.norm([a[0],a[1]]),w=b!=0&&b<t.getMarkMiddleWidth()?b:t.getMarkMiddleWidth(),E=b!=0&&b<t.getMarkMiddleHeight()?b:t.getMarkMiddleHeight(),g=t.getMarkMiddleColor()=="none"?t.getStyle().getLineColor():t.getMarkMiddleColor(),S=t.getMarkMiddleColorSnd()=="none"?t.getStyle().getLineColor():t.getMarkMiddleColorSnd(),y=t.getMarkMiddleStroke()<0?t.getStyle().getLineWidth():t.getMarkMiddleStroke();n(t.getName()+".mid",t.getMarkMiddle(),t.getMarkMiddleRotate(),w,E,y,g,S,a[0],a[1]),o.setAttribute("marker-mid","url(#"+t.getName()+".mid"+")")}if(t.getMarkStart()!=i.NONE){var x=t.getMarkProportion()*EJSS_TOOLS.Mathematics.norm([a[0],a[1]]),T=x!=0&&x<t.getMarkStartWidth()?x:t.getMarkStartWidth(),N=x!=0&&x<t.getMarkStartHeight()?x:t.getMarkStartHeight(),g=t.getMarkStartColor()=="none"?t.getStyle().getLineColor():t.getMarkStartColor(),y=t.getMarkStartStroke()<0?t.getStyle().getLineWidth():t.getMarkStartStroke();n(t.getName()+".start",t.getMarkStart(),t.getMarkStartRotate(),T,N,y,g),o.setAttribute("marker-start","url(#"+t.getName()+".start"+")")}}var C=t.getStyle();C.getShapeRendering()=="crispEdges"?t.getMarkMiddle()!=i.NONE?o.setAttribute("d","M "+r.crispValue(l-h)+" "+r.crispValue(c-p)+" L "+r.crispValue(l)+" "+r.crispValue(c)+" L "+r.crispValue(l+h)+" "+r.crispValue(c+p)):o.setAttribute("d","M "+r.crispValue(l-h)+" "+r.crispValue(c-p)+" L "+r.crispValue(l+h)+" "+r.crispValue(c+p)):t.getMarkMiddle()!=i.NONE?o.setAttribute("d","M "+(l-h)+" "+(c-p)+" L "+l+" "+c+" L "+(l+h)+" "+(c+p)):o.setAttribute("d","M "+(l-h)+" "+(c-p)+" L "+(l+h)+" "+(c+p)),C.getDrawFill()?o.setAttribute("fill",C.getFillColor()):o.setAttribute("fill","none"),C.getDrawLines()?(o.setAttribute("stroke",C.getLineColor()),o.setAttribute("stroke-width",C.getLineWidth())):(o.setAttribute("stroke","none"),o.setAttribute("stroke-width",0)),o.setAttribute("shape-rmidering",C.getShapeRendering());var k=C.getAttributes();for(var L in k)o.setAttribute(L,k[L]);return o};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.axis=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.byteRaster=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.cellLattice=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.cursor=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.ellipse=function(e,t){var n=t.getGroup
();n!==null?group=e.getElementById(n.getName()):group=e;var r=e.getElementById(t.getName());r===null&&(r=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),r.setAttribute("id",t.getName()),group.appendChild(r));var i=t.getPixelPosition(),s=t.getPixelSizes(),o=t.getStyle().getRelativePositionOffset(s),u=i[0]+o[0],a=i[1]+o[1],f=Math.abs(s[0]/2),l=Math.abs(s[1]/2);r.setAttribute("cx",u),r.setAttribute("cy",a),r.setAttribute("rx",f),r.setAttribute("ry",l);var c=t.getStyle();c.getDrawFill()?r.setAttribute("fill",c.getFillColor()):r.setAttribute("fill","none"),c.getDrawLines()?(r.setAttribute("stroke",c.getLineColor()),r.setAttribute("stroke-width",c.getLineWidth())):(r.setAttribute("stroke","none"),r.setAttribute("stroke-width",0)),r.setAttribute("shape-rendering",c.getShapeRendering());var h=c.getAttributes();for(var p in h)r.setAttribute(p,h[p]);return r};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.grid=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.group=function(e,t){var n=e.getElementById(t.getName());return n===null&&(n=document.createElementNS("http://www.w3.org/2000/svg","g"),n.setAttribute("id",t.getName()),e.appendChild(n)),n};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.image=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.mesh=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.point=function(e,t){var n=t.getGroup();n!==null?group=e.getElementById(n.getName()):group=e;var r=e.getElementById(t.getName());r===null&&(r=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),r.setAttribute("id",t.getName()),group.appendChild(r));var i=t.getPixelPosition(),s=t.getPixelSizes(),o=t.getStyle().getRelativePositionOffset(s),u=i[0]+o[0],a=i[1]+o[1];r.setAttribute("cx",u),r.setAttribute("cy",a),r.setAttribute("rx",2),r.setAttribute("ry",2);var f=t.getStyle();r.setAttribute("fill",f.getFillColor());var l=f.getAttributes();for(var c in l)r.setAttribute(c,l[c]);return r};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.polygon=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.rectangle=function(e,t){var n=EJSS_SVGGRAPHICS.Utils,r=t.getGroup();r!==null?group=e.getElementById(r.getName()):group=e;var i=e.getElementById(t.getName());i===null&&(i=document.createElementNS("http://www.w3.org/2000/svg","path"),i.setAttribute("id",t.getName()),group.appendChild(i));var s=t.getPixelPosition(),o=t.getPixelSizes(),u=t.getStyle().getRelativePositionOffset(o),a=s[0]+u[0],f=s[1]+u[1],l=Math.abs(o[0]/2),c=Math.abs(o[1]/2),h=t.getStyle();h.getShapeRendering()=="crispEdges"?i.setAttribute("d","M "+n.crispValue(a-l)+" "+n.crispValue(f+c)+" L "+n.crispValue(a+l)+" "+n.crispValue(f+c)+" L "+n.crispValue(a+l)+" "+n.crispValue(f-c)+" L "+n.crispValue(a-l)+" "+n.crispValue(f-c)+" z"):i.setAttribute("d","M "+(a-l)+" "+(f+c)+" L "+(a+l)+" "+(f+c)+" L "+(a+l)+" "+(f-c)+" L "+(a-l)+" "+(f-c)+" z"),h.getDrawFill()?i.setAttribute("fill",h.getFillColor()):i.setAttribute("fill","none"),h.getDrawLines()?(i.setAttribute("stroke",h.getLineColor()),i.setAttribute("stroke-width",h.getLineWidth())):(i.setAttribute("stroke","none"),i.setAttribute("stroke-width",0)),i.setAttribute("shape-rendering",h.getShapeRendering());var p=h.getAttributes();for(var d in p)i.setAttribute(d,p[d]);return i};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.roundRectangle=function(e,t){var n=t.getGroup();n!==null?group=e.getElementById(n.getName()):group=e;var r=e.getElementById(t.getName());r===null&&(r=document.createElementNS("http://www.w3.org/2000/svg","rect"),r.setAttribute("id",t.getName()),group.appendChild(r));var i=t.getPixelPosition(),s=t.getPixelSizes(),o=t.getStyle().getRelativePositionOffset(s),u=i[0]+o[0],a=i[1]+o[1],f=Math.abs(s[0]/2),l=Math.abs(s[1]/2),c=Math.abs(element.getCornerRadius());r.setAttribute("x",u-f),r.setAttribute("y",a-l),r.setAttribute("width",Math.abs(s[0])),r.setAttribute("height",Math.abs(s[1])),r.setAttribute("rx",c),r.setAttribute("ry",c);var h=t.getStyle();h.getDrawFill()?r.setAttribute("fill",h.getFillColor()):r.setAttribute("fill","none"),h.getDrawLines()?(r.setAttribute("stroke",h.getLineColor()),r.setAttribute("stroke-width",h.getLineWidth())):(r.setAttribute("stroke","none"),r.setAttribute("stroke-width",0)),r.setAttribute("shape-rendering",h.getShapeRendering());var p=h.getAttributes();for(var d in p)r.setAttribute(d,p[d]);return r};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.segment=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.spring=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.text=function(e,t){var n=t.getGroup();n!==null?group=e.getElementById(n.getName()):group=e;var r=e.getElementById(t.getName()),i,s,o;r===null?(r=document.createElementNS("http://www.w3.org/2000/svg","g"),r.setAttribute("id",t.getName()),group.appendChild(r),i=document.createElementNS("http://www.w3.org/2000/svg","g"),i.setAttribute("id",t.getName()+".inner"),r.appendChild(i),o=document.createElementNS("http://www.w3.org/2000/svg","path"),o.setAttribute("id",t.getName()+".box"),i.appendChild(o),s=document.createElementNS("http://www.w3.org/2000/svg","text"),s.setAttribute("id",t.getName()+".text"),i.appendChild(s)):(i=e.getElementById(t.getName()+".inner"),s=e.getElementById(t.getName()+".text"),o=e.getElementById(t.getName()+".box"));var u=t.getPixelPosition(),a=t.getPixelSizes(),f=t.getStyle().getRelativePositionOffset(a),l=t.getMarginX(),c=t.getMarginY(),h=u[0]+f[0]+l,p=u[1]+f[1]+c,d=t.getFont();s.setAttribute("font-style",d.getFontStyle()),s.setAttribute("font-weight",d.getFontWeight()),s.setAttribute("font-size",d.getFontSizeString()),s.setAttribute("font-family",d.getFontFamily()),s.setAttribute("fill",d.getFillColor()),s.setAttribute("stroke",d.getOutlineColor()),s.setAttribute("letter-spacing",d.getLetterSpacing()),s.textContent=t.getText();var v=t.getWritingTarget(),m=1.2*s.getComputedTextLength(),g=d.getFontSize();switch(v){case EJSS_DRAWING2D.Text.TARGET_TOPLEFT:p+=g;break;case EJSS_DRAWING2D.Text.TARGET_TOPRIGTH:h-=m,p+=g;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMRIGTH:h-=m;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMLEFT:break;case EJSS_DRAWING2D.Text.TARGET_TOPCENTER:h-=m/2,p+=g;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMCENTER:h-=m/2}if(!t.getFramed())s.setAttribute("x",h),s.setAttribute("y",p);else{var y=5,b=5;switch(v){case EJSS_DRAWING2D.Text.TARGET_TOPLEFT:h+=y,p+=b;break;case EJSS_DRAWING2D.Text.TARGET_TOPRIGTH:h-=y,p+=b;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMRIGTH:h-=y,p-=b;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMLEFT:h+=y,p-=b;break;case EJSS_DRAWING2D.Text.TARGET_TOPCENTER:p+=b;break;case EJSS_DRAWING2D.Text.TARGET_BOTTOMCENTER:p-=b}s.setAttribute("x",h),s.setAttribute("y",p);if(m>0){var w=p+b,E=p-g,S=h-y,x=h+m;o.setAttribute("d","M "+S+" "+w+" L "+x+" "+w+" L "+x+" "+E+" L "+S+" "+E+" z");var T=t.getStyle();T.getDrawFill()?o.setAttribute("fill",T.getFillColor()):o.setAttribute("fill","none"),T.getDrawLines()?(o.setAttribute("stroke",T.getLineColor()),o.setAttribute("stroke-width",T.getLineWidth())):(o.setAttribute("stroke","none"),o.setAttribute("stroke-width",0));var N=T.getAttributes();for(var C in N)mShape.setAttribute(C,N[C])}else o.setAttribute("stroke","none"),o.setAttribute("fill","none")}var k=0;switch(t.getWritingMode()){case EJSS_DRAWING2D.Text.MODE_TOPDOWN:k=90;break;case EJSS_DRAWING2D.Text.MODE_RIGTHLEFT:k=180;break;case EJSS_DRAWING2D.Text.MODE_DOWNTOP:k=270;break;case EJSS_DRAWING2D.Text.MODE_LEFTRIGHT:k=0}return i.setAttribute("transform","rotate("+k+" "+(u[0]+f[0])+" "+(u[1]+f[1])+")"),r};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.trace=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.trail=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.Utils={},EJSS_SVGGRAPHICS.Utils.crispValue=function(e){return Math.round(+e.toFixed(4)+.5)-.5},EJSS_SVGGRAPHICS.Utils.crispTop=function(e){return Math.round(+e.toFixed(4)+.5)-.5},EJSS_SVGGRAPHICS.Utils.round=function(e){return+e.toFixed(4)},EJSS_SVGGRAPHICS.Utils.hsl2rgb=function(e){var t=e[0],n=e[1],r=e[2],i=(1-Math.abs(2*r-1))*n,s=t/60,o=i*(1-Math.abs(s%2-1)),u,a,f;t===undefined||isNaN(t)||t===null?u=a=f=0:s>=0&&s<1?(u=i,a=o,f=0):s>=1&&s<2?(u=o,a=i,f=0):s>=2&&s<3?(u=0,a=i,f=o):s>=3&&s<4?(u=0,a=o,f=i):s>=4&&s<5?(u=o,a=0,f=i):s>=5&&s<6&&(u=i,a=0,f=o);var l=r-i/2,c,h,p;return c=(u+l)*255,h=(a+l)*255,p=(f+l)*255,c=Math.round(c),h=Math.round(h),p=Math.round(p),{r:c,g:h,b:p}},EJSS_SVGGRAPHICS.Utils.PNGCanvas=function(e,t,n,r,i){function s(e){var e=e.substring(4,e.length-1).replace(/ /g,"").split(",");return{r:e[0],g:e[1],b:e[2]}}function o(e){var e=e.substring(4,e.length-1).replace(/ /g,"").replace(/%/g,"").split(",");return{h:e[0],s:e[1]/100,l:e[2]/100}}function u(e,t,n,r,i,s,o){v=(t+n*e.width)*4,e.data[v+0]=r,e.data[v+1]=i,e.data[v+2]=s,e.data[v+3]=o}var a=document.createElement("canvas");a.setAttribute("width",e),a.setAttribute("height",t);var f=a.getContext("2d"),l=f.createImageData(e,t),c=i[0],h=i[i.length-1];for(var p=0;p<e;p++)for(var d=0;d<t;d++){var v=r[p][t-d-1],m=v<0?c:v<i.length?i[v]:h;typeof m=="undefined"&&(m=c),m.substring(0,3)=="rgb"?rgb=s(m):m.substring(0,3)=="hsl"&&(rgb=EJSS_SVGGRAPHICS.Utils.hsl2rgb(o(m))),u(l,p,d,rgb.r,rgb.g,rgb.b,255)}return f.putImageData(l,0,0),a.toDataURL()};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.video=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.web=function(e,t){};var EJSS_SVGGRAPHICS=EJSS_SVGGRAPHICS||{};EJSS_SVGGRAPHICS.wheel=function(e,t){var n=t.getGroup();n!==null?group=e.getElementById(n.getName()):group=e;var r=e.getElementById(t.getName()),i,s;r===null?(r=document.createElementNS("http://www.w3.org/2000/svg","g"),r.setAttribute("id",t.getName()),group.appendChild(r),i=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),i.setAttribute("id",t.getName()+".circle"),r.appendChild(i),s=document.createElementNS("http://www.w3.org/2000/svg","path"),s.setAttribute("id",t.getName()+".cross"),r.appendChild(s)):(i=e.getElementById(t.getName()+".circle"),s=e.getElementById(t.getName()+".cross"));var o=t.getPixelPosition(),u=t.getPixelSizes(),a=t.getStyle().getRelativePositionOffset(u),f=o[0]+a[0],l=o[1]+a[1],c=Math.abs(u[0]/2),h=Math.abs(u[1]/2);i.setAttribute("cx",f),i.setAttribute("cy",l),i.setAttribute("rx",c),i.setAttribute("ry",h),s.setAttribute("d","M "+(f-c)+" "+l+" L "+(f+c)+" "+l+" M "+f+" "+(l-h)+" L "+f+" "+(l+h));var p=t.getStyle();p.getDrawFill()?r.setAttribute("fill",p.getFillColor()):r.setAttribute("fill","none"),p.getDrawLines()?(r.setAttribute("stroke",p.getLineColor()),r.setAttribute("stroke-width",p.getLineWidth())):(r.setAttribute("stroke","none"),r.setAttribute("stroke-width",0)),r.setAttribute("shape-rendering",p.getShapeRendering());var d=p.getAttributes();for(var v in d)r.setAttribute(v,d[v]);return r};var EJSS_GRAPHICS=EJSS_GRAPHICS||{};EJSS_GRAPHICS.SvgGraphics={},EJSS_GRAPHICS.svgGraphics=function(e){var t=EJSS_INTERFACE.svgGraphics(e),n=t.getDOMElement();return t.getEventContext=function(){return n},t.getOffsetRect=function(e){var t,r,i,s;if(e.offsetTop)t=e.offsetWidth,r=e.offsetHeight,i=e.offsetTop,s=e.offsetLeft;else{do var o=e.parentNode;while(o&&!o.previousElementSibling&&!o.nextElementSibling);i=o.offsetTop,s=o.offsetLeft;var u=n.getAttribute("width"),a=u.indexOf("%");if(a!=-1){var f=u.slice(0,a);t=parseFloat(f)*o.clientWidth/100}else t=parseFloat(u);var l=n.getAttribute("height"),a=l.indexOf("%");if(a!=-1){var f=l.slice(0,a);r=parseFloat(f)*o.clientHeight/100}else r=parseFloat(l)}var c=document.body,h=document.documentElement,p=window.pageYOffset||h.scrollTop||c.scrollTop,d=window.pageXOffset||h.scrollLeft||c.scrollLeft,v=h.clientTop||c.clientTop||0,m=h.clientLeft||c.clientLeft||0;return i=i-p-v,s=s-d-m,{top:i,left:s,width:t,height:r,bottom:i+r,right:s+t}},t.getWidth=function(){return t.getOffsetRect(n).width-1},t.getHeight=function(){return t.getOffsetRect(n).height-1},t.getOffsetLeft=function(){return t.getOffsetRect(n).left},t.getOffsetTop=function(){return t.getOffsetRect(n).top},t.remove=function(e){var t=n.getElementById(e);return t!==null?(n.removeChild(t),!0):!1},t.reset=function(){while(n.firstChild)n.removeChild(n.firstChild);var e=document.createElementNS("http://www.w3.org/2000/svg","defs");n.appendChild(e)},t.draw=function(e,r){for(var i=0,s=e.length;i<s;i++){element=e[i];if(element.getElements){var o=element.getLastElements();for(var u=0,a=o.length;u<a;u++){var f=n.getElementById(o[u].getName());f&&n.removeChild(f)}}if(r||element.isChanged()||element.isGroupChanged()||element.isMustProject()){var l=t.drawElement(element);element._23()!="ElementGroup"&&t.transformElement(element,l)}}},t.drawElement=function(e){var t=EJSS_DRAWING2D.Shape,r=null;if(!e.isGroupVisible()){var i=n.getElementById(e.getName());i&&n.removeChild(i)}else switch(e._23()){case"ElementGroup":r=EJSS_SVGGRAPHICS.group(n,e);break;case"ElementShape":switch(e.getShapeType()){default:case t.ELLIPSE:r=EJSS_SVGGRAPHICS.ellipse(n,e);break;case t.RECTANGLE:r=EJSS_SVGGRAPHICS.rectangle(n,e);break;case t.ROUND_RECTANGLE:r=EJSS_SVGGRAPHICS.roundRectangle(n,e);break;case t.WHEEL:r=EJSS_SVGGRAPHICS.wheel(n,e);break;case t
.NONE:case t.POINT:r=EJSS_SVGGRAPHICS.point(n,e)}break;case"ElementSegment":r=EJSS_SVGGRAPHICS.segment(n,e);break;case"ElementImage":r=EJSS_SVGGRAPHICS.image(n,e);break;case"ElementVideo":r=EJSS_SVGGRAPHICS.video(n,e);break;case"ElementArrow":r=EJSS_SVGGRAPHICS.arrow(n,e);break;case"ElementText":r=EJSS_SVGGRAPHICS.text(n,e);break;case"ElementSpring":r=EJSS_SVGGRAPHICS.spring(n,e);break;case"ElementTrail":r=EJSS_SVGGRAPHICS.trail(n,e);break;case"ElementTrace":r=EJSS_SVGGRAPHICS.trace(n,e);break;case"ElementGrid":r=EJSS_SVGGRAPHICS.grid(n,e);break;case"ElementAxis":r=EJSS_SVGGRAPHICS.axis(n,e);break;case"ElementWeb":r=EJSS_SVGGRAPHICS.web(n,e);break;case"ElementCursor":r=EJSS_SVGGRAPHICS.cursor(n,e);break;case"ElementPolygon":r=EJSS_SVGGRAPHICS.polygon(n,e);break;case"ElementAnalyticCurve":r=EJSS_SVGGRAPHICS.analyticCurve(n,e);break;case"ElementCellLattice":r=EJSS_SVGGRAPHICS.cellLattice(n,e);break;case"ElementByteRaster":r=EJSS_SVGGRAPHICS.byteRaster(n,e);break;case"ElementMesh":r=EJSS_SVGGRAPHICS.mesh(n,e)}return r},t.transformElement=function(e,t){var n=e.getPixelPosition(),r=e.getPixelSizes(),i=e.getStyle().getRelativePositionOffset(r),s=e.getGroupTransformation();if(typeof t!="undefined"&&t!=null){var o=-s.getRotation(),u=EJSS_TOOLS.Mathematics.degrees(o),a="rotate("+u+" "+n[0]+" "+n[1]+")";t.setAttribute("transform",a)}},t._24=function(e){var r=e.getGutters();if(r.visible){var i=EJSS_SVGGRAPHICS.Utils,s=n.getElementById(".myGutters");s===null&&(s=document.createElementNS("http://www.w3.org/2000/svg","path"),s.setAttribute("id",".myGutters"),n.appendChild(s));var o=e.getRealWorldCoordinates(),u=e._26([o[1],o[3]]),a=e.toPixelMod([o[1]-o[0],o[3]-o[2]]),f=u[0],l=u[1],c=a[0],h=a[1],p=.5;y=.5;var d=t.getWidth(),v=t.getHeight(),m=e.getGuttersStyle(),g=e.getStyle();g.getShapeRendering()=="crispEdges"?s.setAttribute("d","M "+i.crispValue(p)+" "+i.crispValue(y)+" L "+i.crispValue(p)+" "+i.crispValue(y+v)+" L "+i.crispValue(p+d)+" "+i.crispValue(y+v)+" L "+i.crispValue(p+d)+" "+i.crispValue(y)+" L "+i.crispValue(p)+" "+i.crispValue(y)+" M "+i.crispValue(f-c)+" "+i.crispValue(l)+" L "+i.crispValue(f)+" "+i.crispValue(l)+" L "+i.crispValue(f)+" "+i.crispValue(l-h)+" L "+i.crispValue(f-c)+" "+i.crispValue(l-h)+" L "+i.crispValue(f-c)+" "+i.crispValue(l)+" z"):s.setAttribute("d","M "+p+" "+y+" L "+p+" "+(y+v)+" L "+(p+d)+" "+(y+v)+" L "+(p+d)+" "+y+" L "+p+" "+y+" M "+(f-c)+" "+l+" L "+f+" "+l+" L "+f+" "+(l-h)+" L "+(f-c)+" "+(l-h)+" L "+(f-c)+" "+l+" z"),m.getDrawFill()?s.setAttribute("fill",m.getFillColor()):s.setAttribute("fill","none"),g.getDrawLines()?(s.setAttribute("stroke",g.getLineColor()),s.setAttribute("stroke-width",g.getLineWidth())):(s.setAttribute("stroke","none"),s.setAttribute("stroke-width",0)),s.setAttribute("shape-rendering",g.getShapeRendering())}},t.drawPanel=function(e){var r=EJSS_SVGGRAPHICS.Utils,i=n.getElementById(".myPanel");i===null&&(i=document.createElementNS("http://www.w3.org/2000/svg","path"),i.setAttribute("id",".myPanel"),n.appendChild(i));var s=.5;y=.5;var o=t.getWidth(),u=t.getHeight(),a=e.getStyle();a.getShapeRendering()=="crispEdges"?i.setAttribute("d","M "+r.crispValue(s)+" "+r.crispValue(y)+" L "+r.crispValue(s)+" "+r.crispValue(y+u)+" L "+r.crispValue(s+o)+" "+r.crispValue(y+u)+" L "+r.crispValue(s+o)+" "+r.crispValue(y)+" z"):i.setAttribute("d","M "+s+" "+y+" L "+s+" "+(y+u)+" L "+(s+o)+" "+(y+u)+" L "+(s+o)+" "+y+" z"),a.getDrawFill()?i.setAttribute("fill",a.getFillColor()):i.setAttribute("fill","none"),a.getDrawLines()?(i.setAttribute("stroke",a.getLineColor()),i.setAttribute("stroke-width",a.getLineWidth())):(i.setAttribute("stroke","none"),i.setAttribute("stroke-width",0)),i.setAttribute("shape-rendering",a.getShapeRendering())},t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.InfoText={registerProperties:function(e,t){EJSS_DRAWING2D.Text.registerProperties(e,t),t.registerProperty("Info",e.setInfo),t.registerProperty("Format",e.setFormat)}},EJSS_DRAWING2D.infoText=function(e){function t(e,t){if(!Array.isArray(t)||typeof s=="undefined")return t;var n="",r=e,i=e.match(/[0-9]*\.(\^|#)+/g);for(var o=0;o<i.length;o++){var u=i[o].split("#").length-1;isNaN(t[o])?n=t[o]:n=t[o].toFixed(u),r=r.replace(i[o],n)}return r}var n=EJSS_DRAWING2D.text(e),r=n.getText,i,s,o=1;return n.setInfo=function(e){i=e},n.getText=function(){if(typeof i=="undefined"){var e=r();return t(s,e)}if(i.getInfo)return i.getInfo();if(typeof i=="function")return i()},n.setFormat=function(e){s=e},n.isChanged=function(){return!0},n.registerProperties=function(e){EJSS_DRAWING2D.InfoText.registerProperties(n,e)},n};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Mesh={},EJSS_DRAWING2D.mesh=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.PlottingPanel={},EJSS_DRAWING2D.plottingPanel=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Polygon={},EJSS_DRAWING2D.polygon=function(e){},EJSS_DRAWING2D.PolygonSet={},EJSS_DRAWING2D.polygonSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Segment={},EJSS_DRAWING2D.segment=function(e){},EJSS_DRAWING2D.SegmentSet={},EJSS_DRAWING2D.segmentSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Shape={NONE:0,ELLIPSE:1,RECTANGLE:2,ROUND_RECTANGLE:3,WHEEL:4,POINT:5,registerProperties:function(e,t){EJSS_DRAWING2D.Element.registerProperties(e,t),t.registerProperty("ShapeType",e.setShapeType),t.registerProperty("CornerRadius",e.setCornerRadius)},copyTo:function(e,t){EJSS_DRAWING2D.Element.copyTo(e,t),t.setShapeType(e.getShapeType()),t.setCornerRadius(e.getCornerRadius())}},EJSS_DRAWING2D.shape=function(e){var t=EJSS_DRAWING2D.element(e),n=10,r=EJSS_DRAWING2D.Shape,i=EJSS_DRAWING2D.Style,s=EJSS_DRAWING2D.Element,o=r.ELLIPSE;return t._23=function(){return"ElementShape"},t.setShapeType=function(e){typeof e=="string"?o=r[e.toUpperCase()]:o=e},t.getShapeType=function(){return o},t.setCornerRadius=function(e){n!=e&&(n=e,t.setChanged(!0))},t.getCornerRadius=function(){return n},t.registerProperties=function(e){r.registerProperties(t,e)},t.copyTo=function(e){r.copyTo(t,e)},t.setSize([.1,.1]),t.setShapeType(r.ELLIPSE),t.getStyle().setRelativePosition(i.CENTER),t.getStyle().setFillColor("Blue"),t.getStyle().setLineColor("Black"),t},EJSS_DRAWING2D.ShapeSet={registerProperties:function(e,t){var n=EJSS_DRAWING2D.ElementSet;n.registerProperties(e,t),t.registerProperty("ShapeType",function(t){e.setToEach(function(e,t){e.setShapeType(t)},t)}),t.registerProperty("CornerRadius",function(t){e.setToEach(function(e,t){e.setCornerRadius(t)},t)})}},EJSS_DRAWING2D.shapeSet=function(e){var t=EJSS_DRAWING2D.elementSet(EJSS_DRAWING2D.shape,e),n=EJSS_DRAWING2D.ShapeSet;return t.registerProperties=function(e){n.registerProperties(t,e)},t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Spring={},EJSS_DRAWING2D.spring=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.SpringSet={},EJSS_DRAWING2D.springSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Text={MODE_TOPDOWN:0,MODE_RIGTHLEFT:1,MODE_DOWNTOP:2,MODE_LEFTRIGHT:3,TARGET_TOPRIGTH:4,TARGET_TOPLEFT:5,TARGET_BOTTOMRIGTH:6,TARGET_BOTTOMLEFT:7,TARGET_TOPCENTER:8,TARGET_BOTTOMCENTER:9,copyTo:function(e,t){EJSS_DRAWING2D.Element.copyTo(e,t),EJSS_DRAWING2D.Font.copyTo(e.getFont(),t.getFont()),t.setText(e.getText()),t.setWritingMode(e.getWritingMode())},registerProperties:function(e,t){EJSS_DRAWING2D.Element.registerProperties(e,t),t.registerProperty("Text",e.setText),t.registerProperty("Framed",e.setFramed),t.registerProperty("WritingMode",e.setWritingMode),t.registerProperty("WritingTarget",e.setWritingTarget),t.registerProperty("Font",e.getFont().setFont),t.registerProperty("FontFamily",e.getFont().setFontFamily),t.registerProperty("FontSize",e.getFont().setFontSize),t.registerProperty("LetterSpacing",e.getFont().setLetterSpacing),t.registerProperty("OutlineColor",e.getFont().setOutlineColor),t.registerProperty("FontWeight",e.getFont().setFontWeight),t.registerProperty("FillColor",e.getFont().setFillColor),t.registerProperty("FontStyle",e.getFont().setFontStyle),t.registerProperty("MarginX",e.getMarginX().setMarginX),t.registerProperty("MarginY",e.getMarginY().setMarginY)}},EJSS_DRAWING2D.text=function(e){var t=EJSS_DRAWING2D.element(e),n="",r=EJSS_DRAWING2D.Text.MODE_LEFTRIGHT,i=EJSS_DRAWING2D.Text.TARGET_BOTTOMLEFT,s=EJSS_DRAWING2D.font(e),o=!1,u=0,a=0;return t._23=function(){return"ElementText"},t.setText=function(e){n!=e&&(n=e,t.setChanged(!0))},t.getText=function(){return n},t.setMarginX=function(e){u!=e&&(u=e,t.setChanged(!0))},t.getMarginX=function(){return u},t.setMarginY=function(e){a!=e&&(a=e,t.setChanged(!0))},t.getMarginY=function(){return a},t.getSizeX=function(){var e=n?n.length:0;return e*s.getFontSize()+e*s.getLetterSpacing()},t.getSizeY=function(){return s.getFontSize()},t.getFont=function(){return s},t.setFramed=function(e){o!=e&&(o=e,t.setChanged(!0))},t.getFramed=function(){return o},t.setWritingMode=function(e){typeof e=="string"&&(e=EJSS_DRAWING2D.Text[e.toUpperCase()]),r!=e&&(r=e,t.setChanged(!0))},t.getWritingMode=function(){return r},t.setWritingTarget=function(e){typeof e=="string"&&(e=EJSS_DRAWING2D.Text[e.toUpperCase()]),i!=e&&(i=e,t.setChanged(!0))},t.getWritingTarget=function(){return i},t.registerProperties=function(e){EJSS_DRAWING2D.Text.registerProperties(t,e)},t.copyTo=function(e){EJSS_DRAWING2D.Text.copyTo(t,e)},s.setChangeListener(function(e){t.setChanged(!0)}),t.setPixelSize(!0),t},EJSS_DRAWING2D.TextSet={},EJSS_DRAWING2D.textSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Trace={},EJSS_DRAWING2D.trace=function(e){},EJSS_DRAWING2D.TraceSet={},EJSS_DRAWING2D.traceSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Trail={},EJSS_DRAWING2D.trail=function(e){},EJSS_DRAWING2D.TrailSet={},EJSS_DRAWING2D.trailSet=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.colorCoded=function(e,t){var n=EJSS_DRAWING2D.colorMapper(e,t),r=!1;return n.setSymmetricZ=function(e){r=e},n.isSymmetricZ=function(){return r},n.setAutoscale=function(e){var t=Number.MAX_VALUE,i=Number.MIN_VALUE;for(var s=0,o=e.length;s<o;s++){var u=e[s];i=Math.max(i,u),t=Math.min(t,u)}var a=i,f=t;r&&(a=Math.max(Math.abs(t),Math.abs(i)),f=-a),n.setScale(f,a)},n.setAutoscaleArray2=function(e){var t=Number.MAX_VALUE,i=Number.MIN_VALUE;for(var s=0,o=e.length;s<o;s++)for(var u=0,a=e[s].length;u<a;u++){var f=e[s][u];i=Math.max(i,f),t=Math.min(t,f)}var l=i,c=t;r&&(l=Math.max(Math.abs(t),Math.abs(i)),c=-l),n.setScale(c,l)},n.setAutoscaleArray3=function(e){var t=Number.MAX_VALUE,i=Number.MIN_VALUE;for(var s=0,o=e.length;s<o;s++)for(var u=0,a=e[s].length;u<a;u++)for(var f=0,l=e[s][u].length;f<l;f++){var c=e[s][u][f];i=Math.max(i,c),t=Math.min(t,c)}var h=i,p=t;r&&(h=Math.max(Math.abs(t),Math.abs(i)),p=-h),n.setScale(p,h)},n};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.ColorMapper={CUSTOM:-1,SPECTRUM:0,GRAYSCALE:1,DUALSHADE:2,RED:3,GREEN:4,BLUE:5,BLACK:6,WIREFRAME:7,NORENDER:8,REDBLUE_SHADE:9,getColorPalette:function(e,t){function n(e,t,n){var r={h:Math.round(360*e),s:t,b:n},i={r:0,g:0,b:0};if(r.s===0)return i.r=i.g=i.b=r.h,i;var s=Math.floor(r.h/60),o=r.h/60-s,u=r.b*(1-r.s),a=r.b*(1-o*r.s),f=r.b*(1-(1-o)*r.s);switch(s){case 0:i.r=r.b,i.g=f,i.b=u;break;case 1:i.r=a,i.g=r.b,i.b=u;break;case 2:i.r=u,i.g=r.b,i.b=f;break;case 3:i.r=u,i.g=a,i.b=r.b;break;case 4:i.r=f,i.g=u,i.b=r.b;break;case 5:i.r=r.b,i.g=u,i.b=a}return i.r=Math.round(i.r*255),i.g=Math.round(i.g*255),i.b=Math.round(i.b*255),i}var r=EJSS_DRAWING2D.ColorMapper,i=[];e<2&&(e=2);for(var s=0;s<e;s++){var o=s/(e-1)*.8,u=1,a=1,f=0,l=0,c=0;switch(t){case r.REDBLUE_SHADE:f=Math.floor(Math.max(0,-e-1+s*2)*255/(e-1)),c=Math.floor(Math.max(0,e-1-s*2)*255/(e-1)),i[s]="rgb("+f+","+l+","+c+")";break;case r.SPECTRUM:o=.8-o;var h=n(o,u,a);i[s]="rgb("+h.r+","+h.g+","+h.b+")";break;case r.GRAYSCALE:case r.BLACK:f=l=c=Math.floor(s*255/(e-1)),i[s]="rgb("+f+","+l+","+c+")";break;case r.RED:f=Math.floor(s*255/(e-1)),i[s]="rgb("+f+","+l+","+c+")";break;case r.GREEN:l=Math.floor(s*255/(e-1)),i[s]="rgb("+f+","+l+","+c+")";break;case r.BLUE:c=Math.floor(s*255/(e-1)),i[s]="rgb("+f+","+l+","+c+")";break;case r.DUALSHADE:default:var p=s/(e-1);o=.8*(1-p),a=.2+1.6*Math.abs(.5-p);var h=n(o,u,a);i[s]="rgb("+h.r+","+h.g+","+h.b+")"}}return i}},EJSS_DRAWING2D.colorMapper=function(e,t){var n=EJSS_DRAWING2D.ColorMapper,r={},i=[],s="darkgray",o="lightgray",u=-1,a=1,f,l,c;return r.setChangeListener=function(e){f=e},r.setPaletteType=function(t){typeof t=="string"&&(t=EJSS_DRAWING2D.ColorMapper[t.toUpperCase()]),l=t,s="darkgray",o="lightgray";if(l==EJSS_DRAWING2D.ColorMapper.GRAYSCALE||l==EJSS_DRAWING2D.ColorMapper.BLACK)s="rgb(64,64,128)",o="rgb(255,191,191)";e=Math.max(2,e),i=n.getColorPalette(e,l),f&&f("palette")},r.getColors=function(){return i},r.getFloorColor=function(){return s},r.getCeilColor=function(){return o},r.getNumColors=function(){return e},r.setFloorCeilColor=function(e,t){s=e,o=t},r.setScale=function(e,t){u=e,a=t,c=new Array(i.length+1);var n=(a-u)/i.length;for(var r=0,s=i.length;r<s;r++)c[r]=u+r*n;c[i.length]=a},r.getPaletteType=function(){return l},r.setColorPalette=function(t){s="darkgray",o="lightgray",i=t,e=t.length,l=EJSS_DRAWING2D.ColorMapper.CUSTOM,f&&f("colors")},r.setNumberOfColors=function(t){if(t==e)return;e=t;if(l==EJSS_DRAWING2D.ColorMapper.CUSTOM){var n=[];for(var i=0,s=Math.min(colors.length,e);i<s;i++)n[i]=colors[i];for(var i=colors.length;i<numColors;i++)n[i]=colors[colors.length-1];colors=n}else r.setPaletteType(l);f&&f("numColors")},r.getNumberOfColors=function(){return e},r.doubleToIndex=function(e){if(u-e>Number.MIN_VALUE)return-1;if(e-a>Number.MIN_VALUE)return i.length;var t=0;return a!=u&&(t=Math.floor(i.length*(e-u)/(a-u))),t=Math.max(0,t),Math.min(t,i.length-1)},r.indexToColor=function(e){return e<0?s:e>=i.length?o:i[e]},r.getColorThresholds=function(){return c},r.setPaletteType(t),r.setScale(-1,1),r};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Font={copyTo:function(e,t){t.setFontFamily(e.getFontFamily()),t.setFontSize(e.getFontSizeString()),t.setLetterSpacing(e.getLetterSpacing()),t.setOutlineColor(e.getOutlineColor()),t.setFontWeight(e.getFontWeight()),t.setFillColor(e.getFillColor())}},EJSS_DRAWING2D.font=function(e){var t=EJSS_DRAWING2D.Font,n={},r="Arial",i="20",s=1,o="none",u="normal",a="black",f="none",l;return n.setChangeListener=function(e){l=e},n.setFontFamily=function(e){r!=e&&(r=e,l&&l("fontFamily"))},n.getFontFamily=function(){return r},n.setFontSize=function(e){i!=e&&(i=e,l&&l("fontSize"))},n.getFontSize=function(){var e;return isNaN(i)?i.indexOf("em")!=-1?e=+i.substr(0,i.indexOf("em"))*10:i.indexOf("px")!=-1?e=+i.substr(0,i.indexOf("px")):e=0:e=+i,e},n.getFontSizeString=function(){return i},n.setLetterSpacing=function(e){s!=e&&(s=e,l&&l("letterSpacing"))},n.getLetterSpacing=function(){return s},n.setOutlineColor=function(e){o!=e&&(o=e,l&&l("lineColor"))},n.getOutlineColor=function(){return o},n.setFontWeight=function(e){u!=e&&(u=e,l&&l("fontWeight"))},n.getFontWeight=function(){return u},n.setFillColor=function(e){a!=e&&(a=e,l&&l("fillColor"))},n.getFillColor=function(){return a},n.setFontStyle=function(e){f!=e&&(f=e,l&&l("fontstyle"))},n.getFontStyle=function(){return f},n.getFont=function(){return f+" "+mLineWidth+" "+i+" "+r},n.setFont=function(e){var t=e.split(" ");f=t[0],u=t[1];var n=t[2].split("/");i=n[0],t[3]&&(r=e.substring(e.indexOf(t[3])))},n};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.functionsParser=function(){function e(e){function t(){}return t.prototype=e,new t}function t(e,t,n,r){this.type_=e,this.index_=t||0,this.prio_=n||0,this.number_=r!==undefined&&r!==null?r:0,this.toString=function(){switch(this.type_){case y:return this.number_;case b:case w:case E:return this.index_;case S:return"CALL";default:return"Invalid Token"}}}function n(e,t,n,r){this.tokens=e,this.ops1=t,this.ops2=n,this.functions=r}function r(e){return typeof e=="string"?(T.lastIndex=0,T.test(e)?"'"+e.replace(T,function(e){var t=N[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+e+"'"):e}function i(e,t){return Number(e)+Number(t)}function s(e,t){return e-t}function o(e,t){return e*t}function u(e,t){return e/t}function a(e,t){return e%t}function f(e,t){return""+e+t}function l(e){return-e}function c(e){return Math.random()*(e||1)}function h(e){e=Math.floor(e);var t=e;while(e>1)t*=--e;return t}function p(e,t){return Math.sqrt(e*e+t*t)}function d(e){return e<0?0:1}function v(e,t){return Object.prototype.toString.call(e)!="[object Array]"?[e,t]:(e=e.slice(),e.push(t),e)}function m(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":l,exp:Math.exp},this.ops2={"+":i,"-":s,"*":o,"/":u,"%":a,"^":Math.pow,",":v,"||":f},this.functions={random:c,fac:h,min:Math.min,max:Math.max,pyt:p,step:d,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,pi:Math.PI,PI:Math.PI}}var g={},y=0,b=1,w=2,E=3,S=4,x=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,T=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,N={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};n.prototype={simplify:function(r){r=r||{};var i=[],s=[],o,u,a,f=this.tokens.length,l,c=0;for(c=0;c<f;c++){l=this.tokens[c];var h=l.type_;if(h===y)i.push(l);else if(h===E&&l.index_ in r)l=new t(y,0,0,r[l.index_]),i.push(l);else if(h===w&&i.length>1)u=i.pop(),o=i.pop(),a=this.ops2[l.index_],l=new t(y,0,0,a(o.number_,u.number_)),i.push(l);else if(h===b&&i.length>0)o=i.pop(),a=this.ops1[l.index_],l=new t(y,0,0,a(o.number_)),i.push(l);else{while(i.length>0)s.push(i.shift());s.push(l)}}while(i.length>0)s.push(i.shift());return new n(s,e(this.ops1),e(this.ops2),e(this.functions))},substitute:function(r,i){i instanceof n||(i=(new m).parse(String(i)));var s=[],o=this.tokens.length,u,a=0;for(a=0;a<o;a++){u=this.tokens[a];var f=u.type_;if(f===E&&u.index_===r)for(var l=0;l<i.tokens.length;l++){var c=i.tokens[l],h=new t(c.type_,c.index_,c.prio_,c.number_);s.push(h)}else s.push(u)}var p=new n(s,e(this.ops1),e(this.ops2),e(this.functions));return p},evaluate:function(e){e=e||{};var t=[],n,r,i,s=this.tokens.length,o,u=0;for(u=0;u<s;u++){o=this.tokens[u];var a=o.type_;if(a===y)t.push(o.number_);else if(a===w)r=t.pop(),n=t.pop(),i=this.ops2[o.index_],t.push(i(n,r));else if(a===E)if(o.index_ in e)t.push(e[o.index_]);else{if(!(o.index_ in this.functions))throw new Error("undefined variable: "+o.index_);t.push(this.functions[o.index_])}else if(a===b)n=t.pop(),i=this.ops1[o.index_],t.push(i(n));else{if(a!==S)throw new Error("invalid Expression");n=t.pop(),i=t.pop();if(!i.apply||!i.call)throw new Error(i+" is not a function");Object.prototype.toString.call(n)=="[object Array]"?t.push(i.apply(undefined,n)):t.push(i.call(undefined,n))}}if(t.length>1)throw new Error("invalid Expression (parity)");return t[0]},toString:function(e){var t=[],n,i,s,o=this.tokens.length,u,a=0;for(a=0;a<o;a++){u=this.tokens[a];var f=u.type_;if(f===y)t.push(r(u.number_));else if(f===w)i=t.pop(),n=t.pop(),s=u.index_,e&&s=="^"?t.push("Math.pow("+n+","+i+")"):t.push("("+n+s+i+")");else if(f===E)t.push(u.index_);else if(f===b)n=t.pop(),s=u.index_,s==="-"?t.push("("+s+n+")"):t.push(s+"("+n+")");else{if(f!==S)throw new Error("invalid Expression");n=t.pop(),s=t.pop(),t.push(s+"("+n+")")}}if(t.length>1)throw new Error("invalid Expression (parity)");return t[0]},variables:function(){var e=this.tokens.length,t=[];for(var n=0;n<e;n++){var r=this.tokens[n];r.type_===E&&t.indexOf(r.index_)==-1&&t.push(r.index_)}return t},toJSFunction:function(e,t){var n=new Function(e,"with(Parser.values) { return "+this.simplify(t).toString(!0)+"; }");return n}},g.parse=function(e){return(new m).parse(e)},g.evaluate=function(e,t){return m.parse(e).evaluate(t)},m.Expression=n,m.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:c,fac:h,exp:Math.exp,min:Math.min,max:Math.max,pyt:p,step:d,pow:Math.pow,atan2:Math.atan2,E:Math.E,pi:Math.PI,PI:Math.PI};var C=1,k=2,L=4,A=8,O=16,M=32,_=64,D=128,P=256;return m.prototype={parse:function(r){this.errormsg="",this.success=!0;var i=[],s=[];this.tmpprio=0;var o=C|A|L|_,u=0;this.expression=r,this.pos=0;while(this.pos<this.expression.length)if(this.isOperator())this.isSign()&&o&_?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",u++,this.addfunc(s,i,b)),o=C|A|L|_):this.isComment()||((o&k)===0&&this.error_parsing(this.pos,"unexpected operator"),u+=2,this.addfunc(s,i,w),o=C|A|L|_);else if(this.isNumber()){(o&C)===0&&this.error_parsing(this.pos,"unexpected number");var a=new t(y,0,0,this.tokennumber);s.push(a),o=k|O|M}else if(this.isString()){(o&C)===0&&this.error_parsing(this.pos,"unexpected string");var a=new t(y,0,0,this.tokennumber);s.push(a),o=k|O|M}else if(this.isLeftParenth())(o&A)===0&&this.error_parsing(this.pos,'unexpected "("'),o&D&&(u+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(s,i,S)),o=C|A|L|_|P;else if(this.isRightParenth()){if(o&P){var a=new t(y,0,0,[]);s.push(a)}else(o&O)===0&&this.error_parsing(this.pos,'unexpected ")"');o=k|O|M|A|D}else if(this.isComma())(o&M)===0&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(s,i,w),u+=2,o=C|A|L|_;else if(this.isConst()){(o&C)===0&&this.error_parsing(this.pos,"unexpected constant");var f=new t(y,0,0,this.tokennumber);s.push(f),o=k|O|M}else if(this.isOp2())(o&L)===0&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(s,i,w),u+=2,o=A;else if(this.isOp1())(o&L)===0&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(s,i,b),u++,o=A;else if(this.isVar()){(o&C)===0&&this.error_parsing(this.pos,"unexpected variable");var l=new t(E,this.tokenindex,0,0);s.push(l),o=k|O|M|A|D}else this.isWhite()||(this.errormsg===""?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));(this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');while(i.length>0){var c=i.pop();s.push(c)}return u+1!==s.length&&this.error_parsing(this.pos,"parity"),new n(s,e(this.ops1),e(this.ops2),e(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,this.errormsg="parse error [column "+e+"]: "+t,new Error(this.errormsg)},addfunc:function(e,n,r){var i=new t(r,this.tokenindex,this.tokenprio+this.tmpprio,0);while(n.length>0){if(!(i.prio_<=n[n.length-1].prio_))break;e.push(n.pop())}n.push(i)},isNumber:function(){var e=!1,t="";while(this.pos<this.expression.length){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&n<=57||n===46))break;t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0}return e},unescape:function(e,t){var n=[],r=!1;for(var i=0;i<e.length;i++){var s=e.charAt(i);if(r){switch(s){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("	");break;case"u":var o=parseInt(e.substring(i+1,i+5),16);n.push(String.fromCharCode(o)),i+=4;break;default:throw this.error_parsing(t+i,"Illegal escape sequence: '\\"+s+"'")}r=!1}else s=="\\"?r=!0:n.push(s)}return n.join("")},isString:function(){var e=!1,t="",n=this.pos;if(this.pos<this.expression.length&&this.expression.charAt(this.pos)=="'"){this.pos++;while(this.pos<this.expression.length){var r=this.expression.charAt(this.pos);if(r=="'"&&t.slice(-1)!="\\"){this.pos++,this.tokennumber=this.unescape(t,n),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}}return e},isConst:function(){var e;for(var t in this.consts){var n=t.length;e=this.expression.substr(this.pos,n);if(t===e)return this.tokennumber=this.consts[t],this.pos+=n,!0}return!1},isOperator:function(){var e=this.expression.charCodeAt(this.pos);if(e===43)this.tokenprio=0,this.tokenindex="+";else if(e===45)this.tokenprio=0,this.tokenindex="-";else if(e===124){if(this.expression.charCodeAt(this.pos+1)!==124)return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(e===42)this.tokenprio=1,this.tokenindex="*";else if(e===47)this.tokenprio=2,this.tokenindex="/";else if(e===37)this.tokenprio=2,this.tokenindex="%";else{if(e!==94)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e=this.expression.charCodeAt(this.pos-1);return e===45||e===43?!0:!1},isPositiveSign:function(){var e=this.expression.charCodeAt(this.pos-1);return e===43?!0:!1},isNegativeSign:function(){var e=this.expression.charCodeAt(this.pos-1);return e===45?!0:!1},isLeftParenth:function(){var e=this.expression.charCodeAt(this.pos);return e===40?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var e=this.expression.charCodeAt(this.pos);return e===41?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var e=this.expression.charCodeAt(this.pos);return e===44?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var e=this.expression.charCodeAt(this.pos);return e===32||e===9||e===10||e===13?(this.pos++,!0):!1},isOp1:function(){var e="";for(var t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase())if(t===this.pos||n!="_"&&(n<"0"||n>"9"))break;e+=n}return e.length>0&&e in this.ops1?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isOp2:function(){var e="";for(var t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase())if(t===this.pos||n!="_"&&(n<"0"||n>"9"))break;e+=n}return e.length>0&&e in this.ops2?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isVar:function(){var e="";for(var t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase())if(t===this.pos||n!="_"&&(n<"0"||n>"9"))break;e+=n}return e.length>0?(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0):!1},isComment:function(){var e=this.expression.charCodeAt(this.pos-1);return e===47&&this.expression.charCodeAt(this.pos)===42?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1}},g};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.InteractionTarget={ENABLED_NONE:0,ENABLED_ANY:1,ENABLED_X:2,ENABLED_Y:3,copyTo:function(e,t){t.setMotionEnabled(e.getMotionEnabled()),t.setAffectsGroup(e.getAffectsGroup()),t.setActionCommand(e.getActionCommand()),t.setDataObject(e.getDataObject()),t.setSensitivity(e.getSensitivity())}},EJSS_DRAWING2D.interactionTarget=function(e,t,n){var r=EJSS_DRAWING2D.InteractionTarget,i={},s=EJSS_DRAWING2D.Style,o=r.ENABLED_NONE,u=!1,a=null,f=null,l=15;return i.getElement=function(){return e},i.getType=function(){return t},i.setMotionEnabled=function(e){typeof e=="string"?o=r[e.toUpperCase()]:o=e},i.getMotionEnabled=function(){return o},i.isEnabled=function(){return o!=r.ENABLED_NONE},i.getPixelPosition=function(){var t=e.getPixelPosition(),r=e.getPixelSizes(),i=e.getStyle().getRelativePositionOffset(r),o=t[0]+i[0],u=t[1]+i[1],a=s.getRelativePositionOffset(n,r[0],r[1]);return[o-a[0],u-a[1]]},i.getPosition=function(){var t=e.getPosition(),r=e.getSize(),i=e.getStyle().getRelativePositionOffset(r),o=t[0]+i[0],u=t[1]+i[1],a=s.getRelativePositionOffset(n,r[0],r[1]);return[o-a[0],u-a[1]]},i.setAffectsGroup=function(e){u=e},i.getAffectsGroup=function(){return u},i.setSensitivity=function(e){l=e},i.getSensitivity=function(){return l},i.setActionCommand=function(e){a=e},i.getActionCommand=function(){return a},i.setDataObject=function(e){f=e},i.getDataObject=function(){return f},i};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.PanelInteraction={TARGET_POSITION:0,TARGET_SIZE:1},EJSS_DRAWING2D.panelInteraction=function(e){function t(e,t,n){var r=EJSS_DRAWING2D.InteractionTarget,i=EJSS_DRAWING2D.PanelInteraction,s=EJSS_DRAWING2D.Element,o=e.toElementSpace(n),u=e.getSize(),a=e.getStyle().getRelativePositionOffset(u),f=o[0]-a[0],l=o[1]-a[1];if(t===e.getInteractionTarget(i.TARGET_POSITION))switch(t.getMotionEnabled()){case r.ENABLED_ANY:e.setPosition([f,l]),e.getController().propertiesChanged("Position","X","Y");break;case r.ENABLED_X:e.setX(f),e.getController().propertiesChanged("Position","X");break;case r.ENABLED_Y:e.setY(l),e.getController().propertiesChanged("Position","Y")}else if(t===e.getInteractionTarget(i.TARGET_SIZE)){var c=t.getPosition(),h=t.getElement().getSize(),p=n[0]-c[0],d=n[1]-c[1],v=[h[0]+p,h[1]+d];switch(t.getMotionEnabled()){case r.ENABLED_ANY:e.setSize(v),e.getController().propertiesChanged("Size","SizeX","SizeY");break;case r.ENABLED_X:e.setSizeX(v[0]),e.getController().propertiesChanged("Size","SizeX");break;case r.ENABLED_Y:e.setSizeY(v[1]),e.getController().propertiesChanged("Size","SizeY")}}}function n(t){var n,r;typeof t.changedTouches!="undefined"&&t.changedTouches.length===1?(n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY):(n=t.x||t.clientX,r=t.y||t.clientY);var i=e.getGraphics().getOffsetLeft(),s=e.getGraphics().getOffsetTop();return[n-i,r-s]}var r={},i=EJSS_DRAWING2D.PanelInteraction,s=!1,o=[0,0],u=[0,0],a,f=!1,l=0,c="move",h=0;return r.getPanel=function(){return e},r.getEnabled=function(){return s},r.setEnabled=function(e){s!=e&&(s=e,s?(r.setHandler("move",r.handleMouseMoveEvent),r.setHandler("down",r.handleMouseDownEvent),r.setHandler("up",r.handleMouseUpEvent)):(r.setHandler("move",function(){}),r.setHandler("down",function(){}),r.setHandler("up",function(){})))},r.setCursorTypeForMove=function(e){c=e},r.getInteractionPoint=function(){return o},r.getInteractionBounds=function(){return[u[0],o[0],u[1],o[1]]},r.getInteractionElement=function(){return a},r.getOrientation=function(){return window.orientation},r.handleMouseMoveEvent=function(i){var u=n(i);o=e.toPanelPosition([u[0],u[1]]);var l=a;if(f)if(typeof l!="undefined"&&l!==null){var h=l.getAffectsGroup()?l.getElement().getGroup():l.getElement();h.getController().invokeAction("OnDrag"),t(h,l,o),s&&e.getController().invokeAction("OnMove")}else s&&e.getController().invokeAction("OnDrag");else{var p=r.findInteractionTarget(e.getElements(),u);p===null?(typeof l!="undefined"&&l!==null&&l.getElement().getController().invokeAction("OnExit"),s&&e.getController().invokeAction("OnMove"),i.target.style.cursor="default"):(l!=p&&(typeof l!="undefined"&&l!==null&&l.getElement().getController().invokeAction("OnExit"),p.getElement().getController().invokeAction("OnEnter")),p.isEnabled()?i.target.style.cursor=c:i.target.style.cursor="default"),a=p}e.getController().reportInteractions()},r.handleMouseDownEvent=function(t){f=!0;var i=n(t);o=e.toPanelPosition([i[0],i[1]]),u=[o[0],o[1]];var l=r.findInteractionTarget(e.getElements(),i);l!==null?(l.getElement().getController().invokeAction("OnPress"),t.target.style.cursor=c):s&&e.getController().invokeAction("OnPress"),a=l,t.preventDefault(),e.getController().reportInteractions()},r.handleMouseUpEvent=function(t){f=!1;var r=n(t);o=e.toPanelPosition([r[0],r[1]]);var i=a;i!==null?i.getElement().getController().invokeAction("OnRelease"):s&&e.getController().invokeAction("OnRelease"),t.target.style.cursor="default",t.timeStamp-l<500&&e.getController().invokeAction("OnDoubleClick"),l=t.timeStamp,e.getController().reportInteractions()},r.findInteractionTarget=function(t,n){var s=null;for(var o=t.length-1;o>=0;o--){element=t[o];if(element.isGroupVisible())if(element.getElements){s=r.findInteractionTarget(element.getElements(),n);if(s!==null)return s}else{var u=element.getInteractionTargets();for(var a=0;a<u.length;a++)if(u[a].isEnabled()){var f=u[a].getSensitivity();if(f>0){var l=u[a].getPixelPosition();if(Math.abs(l[0]-n[0])<f&&Math.abs(l[1]-n[1])<f)return h=o,u[a]}}s=element.getInteractionTarget(i.TARGET_POSITION);if(s.isEnabled()&&!s.getSensitivity()){var c=element.getBounds(),p=e.toPanelPosition([n[0],n[1]]);if(c.left<p[0]&&c.right>p[0]&&c.bottom<p[1]&&c.top>p[1])return h=o,s}}}return null},r.getIndexElement=function(){return h},r.setHandler=function(t,n){var r=e.getGraphics(),i=r.getEventContext();switch(t){case"move":i.addEventListener("mousemove",n,!1),i.addEventListener("touchmove",n,!1);break;default:case"down":i.addEventListener("mousedown",n,!1),i.addEventListener("touchstart",n,!1);break;case"up":i.addEventListener("mouseup",n,!1),i.addEventListener("touchend",n,!1);break;case"gesturestart":i.addEventListener("gesturestart",n,!1);break;case"gesturechange":i.addEventListener("gesturechange",n,!1);break;case"gestureend":i.addEventListener("gestureend",n,!1)}return!1},window.onorientationchange=function(){e.getController().invokeAction("OnOrientationChange"),e.getController().reportInteractions()},window.onresize=function(){e.getController().invokeAction("OnResize"),e.getController().reportInteractions()},r};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Style={CENTER:0,NORTH:1,SOUTH:2,EAST:3,WEST:4,NORTH_EAST:5,NORTH_WEST:6,SOUTH_EAST:7,SOUTH_WEST:8,RENDER_AUTO:"auto",RENDER_OPTSPEED:"optimizeSpeed",RENDER_CRISPEDGES:"crispEdges",RENDER_GEOPRECISION:"geometricPrecision",copyTo:function(e,t){t.setDrawLines(e.getDrawLines()),t.setLineColor(e.getLineColor()),t.setLineWidth(e.getLineWidth()),t.setDrawFill(e.getDrawFill()),t.setFillColor(e.getFillColor()),t.setAttributes(e.getAttributes()),t.setRelativePosition(e.getRelativePosition()),t.setShapeRendering(e.getShapeRendering())},getRelativePositionOffset:function(e,t,n){switch(e){default:case EJSS_DRAWING2D.Style.CENTER:dx=0,dy=0;break;case EJSS_DRAWING2D.Style.NORTH:dx=0,dy=-(n/2);break;case EJSS_DRAWING2D.Style.SOUTH:dx=0,dy=n/2;break;case EJSS_DRAWING2D.Style.EAST:dx=-(t/2),dy=0;break;case EJSS_DRAWING2D.Style.WEST:dx=t/2,dy=0;break;case EJSS_DRAWING2D.Style.NORTH_EAST:dx=-(t/2),dy=-(n/2);break;case EJSS_DRAWING2D.Style.NORTH_WEST:dx=t/2,dy=-(n/2);break;case EJSS_DRAWING2D.Style.SOUTH_EAST:dx=-(t/2),dy=n/2;break;case EJSS_DRAWING2D.Style.SOUTH_WEST:dx=t/2,dy=n/2}return[dx,dy]}},EJSS_DRAWING2D.style=function(e){var t=EJSS_DRAWING2D.Style,n={},r=!0,i="black",s=.5,o=!0,u="none",a=t.CENTER,f=t.RENDER_AUTO,l,c={};return n.setChangeListener=function(e){l=e},n.setDrawLines=function(e){e!=r&&(r=e,l&&l("drawlines"))},n.getDrawLines=function(){return r},n.setLineColor=function(e){return typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=i&&(i=e,l&&l("linecolor")),n},n.getLineColor=function(){return i},n.setLineWidth=function(e){e!=s&&(s=e,l&&l("linewidth"))},n.getLineWidth=function(){return s},n.setDrawFill=function(e){e!=o&&(o=e,l&&l("drawfill"))},n.getDrawFill=function(){return o},n.setFillColor=function(e){typeof e!="string"&&(e=EJSS_TOOLS.DisplayColors.getLineColor(e)),e!=u&&(u=e,l&&l("fillcolor"))},n.getFillColor=function(){return u},n.setShapeRendering=function(e){e.substring(0,6)=="RENDER"&&(e=t[e.toUpperCase()]),f!=e&&(f=e,l&&l("shaperendering"))},n.getShapeRendering=function(){return f},n.setRelativePosition=function(e){typeof e=="string"&&(e=t[e.toUpperCase()]),a!=e&&(a=e,l&&l("position"))},n.getRelativePosition=function(){return a},n.getRelativePositionOffset=function(e,n){var r,i;return Array.isArray(e)?(r=e[0],i=e[1]):(r=e,i=n),t.getRelativePositionOffset(a,r,i)},n.setAttributes=function(e){e!=c&&(c=e,l&&l("attributes"))},n.getAttributes=function(){return c},n};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Transformation={compare:function(e,t){return e.radians==t.radians&&e.a==t.a&&e.b==t.b&&e.c==t.c&&e.d==t.d&&e.e==t.e&&e.f==t.f}},EJSS_DRAWING2D.transformation=function(e){e=e||{a:1,b:0,c:0,d:1,e:0,f:0};var t={a:e.a,c:e.c,e:e.e,b:e.b,d:e.d,f:e.f,radians:0};return t.toString=function(){return"a="+t.a+", c="+t.c+", e="+t.e+"\n"+"b="+t.b+", d="+t.d+", f="+t.f},t.setToIdentity=function(){t.a=1,t.c=0,t.e=0,t.b=0,t.d=1,t.f=0,radians=0},t.setTransform=function(e){Array.isArray(e)&&e.length>5?(t.a=e[0],t.c=e[2],t.e=e[4],t.b=e[1],t.d=e[3],t.f=e[5]):(t.a=e.a,t.c=e.c,t.e=e.e,t.b=e.b,t.d=e.d,t.f=e.f,t.radians=e.radians)},t.setToTranslation=function(e,n){t.a=1,t.c=0,t.e=e,t.b=0,t.d=1,t.f=n},t.setToRotation=function(e){var n=Math.cos(e),r=Math.sin(e);t.a=n,t.c=-r,t.e=0,t.b=r,t.d=n,t.f=0,t.radians=e},t.getRotation=function(){return t.radians},t.translate=function(e,n){t.e+=e,t.f+=n},t.scale=function(e,n){t.a*=e,t.b*=e,t.c*=n,t.d*=n},t.concatenate=function(e){var n=t.a,r=t.b,i=t.c,s=t.d,o=t.e,u=t.f;t.a=n*e.a+i*e.b,t.b=r*e.a+s*e.b,t.c=n*e.c+i*e.d,t.d=r*e.c+s*e.d,t.e=n*e.e+i*e.f+o,t.f=r*e.e+s*e.f+u,t.radians+=e.radians},t.transform=function(e){var n=e[0],r=e[1];return e[0]=t.a*n+t.c*r+t.e,e[1]=t.b*n+t.d*r+t.f,e},t.transformVector=function(e){var n=e[0],r=e[1];return e[0]=t.a*n+t.c*r,e[1]=t.b*n+t.d*r,e},t.inverseTransform=function(e){var n=t.a,r=t.b,i=t.c,s=t.d,o=t.e,u=t.f,a=n*s-r*i;if(a===0)return null;var f=e[0],l=e[1];return e[0]=(s*f-i*l+(i*u-s*o))/a,e[1]=(-r*f+n*l+(r*o-n*u))/a,e},t};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Video={},EJSS_DRAWING2D.video=function(e){};var EJSS_DRAWING2D=EJSS_DRAWING2D||{};EJSS_DRAWING2D.Web={},EJSS_DRAWING2D.web=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.AnalyticCurve={registerProperties:function(e,t){EJSS_DRAWING3D.Element.registerProperties(e,t),t.registerProperty("NumPoints",e.setNumPoints),t.registerProperty("MinValue",e.setMinValue),t.registerProperty("MaxValue",e.setMaxValue),t.registerProperty("Variable",e.setVariable),t.registerProperty("FunctionX",e.setExpressionX),t.registerProperty("FunctionY",e.setExpressionY),t.registerProperty("FunctionZ",e.setExpressionZ)}},EJSS_DRAWING3D.analyticCurve=function(e){var t=EJSS_DRAWING3D.element(e),n=EJSS_DRAWING3D.Style,r=EJSS_DRAWING2D.functionsParser(),i=r.parse("t"),s=r.parse("t"),o=r.parse("0"),u=screen.width/10,a=0,f=0,l="t";return t._23=function(){return"ElementAnalyticCurve"},t.setValues=function(e){mValues=e.slice(),t.setChanged(!0)},t.setNumPoints=function(e){u=e},t.setMinValue=function(e){a=e},t.setMaxValue=function(e){f=e},t.setVariable=function(e){l=e},t.setExpressionX=function(e){i=r.parse(e)},t.setExpressionY=function(e){s=r.parse(e)},t.setExpressionZ=function(e){o=r.parse(e)},t.getNumPoints=function(){return u},t.getMinValue=function(){return a},t.getMaxValue=function(){return f},t.getVariable=function(){return l},t.getExpressionX=function(){return i},t.getExpressionY=function(){return s},t.getExpressionZ=function(){return o},t.registerProperties=function(e){EJSS_DRAWING3D.AnalyticCurve.registerProperties(t,e)},t.setSize([1,1,1]),t};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.AnalyticSurface={registerProperties:function(e,t){EJSS_DRAWING3D.Element.registerProperties(e,t),t.registerProperty("NumPoints1",e.setNumPoints1),t.registerProperty("MinValue1",e.setMinValue1),t.registerProperty("MaxValue1",e.setMaxValue1),t.registerProperty("Variable1",e.setVariable1),t.registerProperty("NumPoints2",e.setNumPoints2),t.registerProperty("MinValue2",e.setMinValue2),t.registerProperty("MaxValue2",e.setMaxValue2),t.registerProperty("Variable2",e.setVariable2),t.registerProperty("FunctionX",e.setExpressionX),t.registerProperty("FunctionY",e.setExpressionY),t.registerProperty("FunctionZ",e.setExpressionZ)}},EJSS_DRAWING3D.analyticSurface=function(e){var t=EJSS_DRAWING3D.element(e),n=EJSS_DRAWING3D.Style,r=EJSS_DRAWING2D.functionsParser(),i=r.parse("u"),s=r.parse("v"),o=r.parse("0"),u=screen.width/10,a=0,f=0,l="u",c=screen.width/10,h=0,p=0,d="v";return t._23=function(){return"ElementAnalyticSurface"},t.setValues=function(e){mValues=e.slice(),t.setChanged(!0)},t.setNumPoints1=function(e){u=e},t.setMinValue1=function(e){a=e},t.setMaxValue1=function(e){f=e},t.setVariable1=function(e){l=e},t.setNumPoints2=function(e){c=e},t.setMinValue2=function(e){h=e},t.setMaxValue2=function(e){p=e},t.setVariable2=function(e){d=e},t.setExpressionX=function(e){i=r.parse(e)},t.setExpressionY=function(e){s=r.parse(e)},t.setExpressionZ=function(e){o=r.parse(e)},t.getNumPoints1=function(){return u},t.getMinValue1=function(){return a},t.getMaxValue1=function(){return f},t.getVariable1=function(){return l},t.getNumPoints2=function(){return c},t.getMinValue2=function(){return h},t.getMaxValue2=function(){return p},t.getVariable2=function(){return d},t.getExpressionX=function(){return i},t.getExpressionY=function(){return s},t.getExpressionZ=function(){return o},t.registerProperties=function(e){EJSS_DRAWING3D.AnalyticSurface.registerProperties(t,e)},t.setSize([1,1,1]),t};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Basic={},EJSS_DRAWING3D.basic=function(e){},EJSS_DRAWING3D.BasicSet={},EJSS_DRAWING3D.basicSet=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Cube={},EJSS_DRAWING3D.cube=function(e){},EJSS_DRAWING3D.CubeSet={},EJSS_DRAWING3D.cubeSet=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Cylinder={},EJSS_DRAWING3D.cylinder=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.DrawingPanel={},EJSS_DRAWING3D.drawingPanel=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Element={copyTo:function(e,t){EJSS_DRAWING3D.Style.copyTo(e.getStyle(),t.getStyle()),t.setVisible(e.isVisible()),t.setMeasured(e.isMeasured()),t.setPosition(e.getPosition()),t.setSize(e.getSize()),t.setTransformation(e.getTransformation()),t.setTextureUrl(e.getTextureUrl()),t.setParent(e.getParent())},registerProperties:function(e,t){var n=EJSS_DRAWING3D.Element;e.setController(t),t.registerProperty("Parent",e.setParent,e.getParent),t.registerProperty("X",e.setX,e.getX),t.registerProperty("Y",e.setY,e.getY),t.registerProperty("Z",e.setZ,e.getZ),t.registerProperty("Position",e.setPosition,e.getPosition),t.registerProperty("Size",e.setSize,e.getSize),t.registerProperty("SizeX",e.setSizeX,e.getSizeX),t.registerProperty("SizeY",e.setSizeY,e.getSizeY),t.registerProperty("SizeZ",e.setSizeZ,e.getSizeZ),t.registerProperty("TextureUrl",e.setTextureUrl,e.getTextureUrl),t.registerProperty("Transformation",e.setTransformation),t.registerProperty("Visibility",e.setVisible,e.isVisible),t.registerProperty("Measured",e.setMeasured,e.isMeasured),t.registerProperty("LineColor",e.getStyle().setLineColor,e.getStyle().getLineColor),t.registerProperty("LineWidth",e.getStyle().setLineWidth,e.getStyle().getLineWidth),t.registerProperty("DrawLines",e.getStyle().setDrawLines,e.getStyle().getDrawLines),t.registerProperty("FillColor",e.getStyle().setFillColor,e.getStyle().getFillColor),t.registerProperty("DrawFill",e.getStyle().setDrawFill,e.getStyle().getDrawFill),t.registerProperty("Detail",e.setDetail),t.registerAction("OnEnter",e.getPosition),t.registerAction("OnExit",e.getPosition),t.registerAction("OnPress",e.getPosition),t.registerAction("OnDrag",e.getPosition),t.registerAction("OnRelease",e.getPosition),t.registerAction("OnLoadTexture",null,null,function(){e.setChanged(!0)})}},EJSS_DRAWING3D.element=function(e){var t={},n=EJSS_DRAWING3D.Element,r=EJSS_DRAWING3D.Style,i=EJSS_DRAWING3D.style(e),s=!0,o=!0,u="",a=0,f=0,l=0,c=1,h=1,p=1,d=[],v=null,m=!0,g=null,y=null,b=-1,w=!0,E=[],S=[],x=20,T={propertiesChanged:function(){},invokeAction:function(){}};return t.copyTo=function(e){n.copyTo(t,e)},t.getName=function(){return e},t.setTextureUrl=function(e){var n=y!=null?y.getResourcePath:t.getResourcePath;n!=null?e=n(e):console.log("No getResourcePath function for "+t.getName()+". Texture="+e),u=e},t.getTextureUrl=function(){return u},t.setVisible=function(e){s=e},t.isVisible=function(){return s},t.isGroupVisible=function(){var e=g;while(typeof e!="undefined"&&e!==null){if(!e.isVisible())return!1;e=e.getGroup()}return s},t.getStyle=function(){return i},t.setMeasured=function(e){o=e},t.isMeasured=function(){return o},t.setDetail=function(e){x=e,t.setChanged(!0)},t.getDetail=function(){return x},t.setX=function(e){a!=e&&(a=e,w=!0)},t.getX=function(){return a},t.setY=function(e){f!=e&&(f=e,w=!0)},t.getY=function(){return f},t.setZ=function(e){l!=e&&(l=e,w=!0)},t.getZ=function(){return l},t.setPosition=function(e){t.setX(e[0]),t.setY(e[1]),t.setZ(e[2])},t.getPosition=function(){return[a,f,l]},t.setSizeX=function(e){c!=e&&(c=e,w=!0)},t.getSizeX=function(){return c},t.setSizeY=function(e){h!=e&&(h=e,w=!0)},t.getSizeY=function(){return h},t.setSizeZ=function(e){p!=e&&(p=e,w=!0)},t.getSizeZ=function(){return p},t.setSize=function(e){t.setSizeX(e[0]),t.setSizeY(e[1]),t.setSizeZ(e[2])},t.getSize=function(){return[t.getSizeX(),t.getSizeY(),t.getSizeZ()]},t.setPanel=function(e){v=e,m=!0},t.getPanel=function(){return v},t.getGroupPanel=function(){var e=t;while(e.getGroup())e=e.getGroup();return e.getPanel()},t.setGroup=function(e){g=e,w=!0},t.getGroup=function(){return g},t.setSet=function(e,t){y=e,b=t},t.getSetIndex=function(){return b},t.setParent=function(e){e.render?(t.setGroup(null),e.addElement(t),t.setPanel(e)):e._23()=="ElementGroup"?(t.setGroup(e),t.getGroupPanel().addElement(t),t.setPanel(t.getGroupPanel())):console.log("WARNING: setParent() - Parent not valid : "+e.getName())},t.getParent=function(){var e;return g!==null?e=t.getGroup():e=t.getPanel(),e},t.setTransformation=function(e){if(typeof e=="undefined"||e===null)e=[];EJSS_TOOLS.compareArrays(d,e)||(d=e,w=!0)},t.getTransformation=function(){return d},t.getGroupTransformation=function(){var e=EJSS_DRAWING3D.transformation(),n=t;while(typeof n!="undefined"&&n!==null)e.concatenate(n.getTransformation()),n=n.getGroup();return e},t.isChanged=function(){return w},t.setChanged=function(e){w=e},t.isGroupChanged=function(){var e=t.getGroup();while(typeof e!="undefined"&&e!==null){if(e.isChanged())return!0;e=e.getGroup()}return!1},t.setMustProject=function(e){m=e},t.isMustProject=function(){return m},t.getController=function(){return T},t.setController=function(e){T=e},t.registerProperties=function(e){n.registerProperties(t,e)},i.setChangeListener(function(e){w=!0}),t};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.ElementSet={},EJSS_DRAWING3D.elementSet=function(e,t){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Group={},EJSS_DRAWING3D.group=function(e){var t=EJSS_DRAWING3D.element(e);return t._23=function(){return"ElementGroup"},t.isGroup=function(){return!0},t};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.panelInteraction=function(e){function t(t){var n,r;typeof t.changedTouches!="undefined"&&t.changedTouches.length===1?(n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY):(n=t.x||t.clientX,r=t.y||t.clientY);var i=e.getGraphics().getOffsetLeft(),s=e.getGraphics().getOffsetTop();return[n-i,r-s]}var n={},r=!1,i=[0,0],s=0,o=0,u=!1;return n.getPanel=function(){return e},n.getEnabled=function(){return r},n.setEnabled=function(e){r!=e&&(r=e,r?(n.setHandler("move",n.handleMouseMoveEvent),n.setHandler("down",n.handleMouseDownEvent),n.setHandler("up",n.handleMouseUpEvent)):(n.setHandler("move",function(){}),n.setHandler("down",function(){}),n.setHandler("up",function(){})))},n.getInteractionPoint=function(){return i},n.getInteractionDeltas=function(){return[s,o]},n.handleMouseMoveEvent=function(n){var a=i[0],f=i[1];i=t(n),s=i[0]-a,o=i[1]-f,u?(r&&e.getController().invokeAction("OnDrag"),n.target.style.cursor="move"):n.target.style.cursor="default",e.getController().reportInteractions()},n.handleMouseDownEvent=function(s){u=!0,i=t(s),r&&e.getController().invokeAction("OnPress"),n.pick(i[0],i[1]),s.preventDefault(),e.getController().reportInteractions()},n.handleMouseUpEvent=function(n){u=!1,i=t(n),r&&e.getController().invokeAction("OnRelease"),n.target.style.cursor="default",e.getController().reportInteractions()},n.setHandler=function(t,n){var r=e.getGraphics(),i=r.getEventContext();switch(t){case"move":i.addEventListener("mousemove",n,!1),i.addEventListener("touchmove",n,!1);break;default:case"down":i.addEventListener("mousedown",n,!1),i.addEventListener("touchstart",n,!1);break;case"up":i.addEventListener("mouseup",n,!1),i.addEventListener("touchend",n,!1)}return!1},n.pick=function(t,n){var r=t-1,i=n-1,s=1,o=1,u=e.getGraphics().getContext();if(!u)return;var a=new Uint8Array(s*o*4);u.readPixels(r,i,s,o,u.RGBA,u.UNSIGNED_BYTE,a),a.data&&(a=a.data)},n};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Style={copyTo:function(e,t){t.setDrawLines(e.getDrawLines()),t.setLineColor(e.getLineColor()),t.setLineWidth(e.getLineWidth()),t.setDrawFill(e.getDrawFill()),t.setFillColor(e.getFillColor())}},EJSS_DRAWING3D.style=function(e){var t=EJSS_DRAWING3D.Style,n={},r=!0,i=[0,0,0],s=.5,o=!0,u=[0,0,0],a;return n.setChangeListener=function(e){a=e},n.setDrawLines=function(e){e!=r&&(r=e,a&&a("drawlines"))},n.getDrawLines=function(){return r},n.setLineColor=function(e){return typeof e=="string"&&(e=EJSS_TOOLS.DisplayColors.getArrayColor(e)),EJSS_TOOLS.compareArrays(e,i)||(i=e.slice(),a&&a("linecolor")),n},n.getLineColor=function(){return i},n.setLineWidth=function(e){e!=s&&(s=e,a&&a("linewidth"))},n.getLineWidth=function(){return s},n.setDrawFill=function(e){e!=o&&(o=e,a&&a("drawfill"))},n.getDrawFill=function(){return o},n.setFillColor=function(e){typeof e=="string"&&(e=EJSS_TOOLS.DisplayColors.getArrayColor(e)),EJSS_TOOLS.compareArrays(e,u)||(u=e.slice(),a&&a("fillcolor"))},n.getFillColor=function(){return u},n};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.analyticCurve=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.analyticSurface=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.basic=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.cube=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.cylinder=function(e,t){};var hasFloat32Array=typeof Float32Array!="undefined";Matrix.prototype={inverse:function(){return Matrix.inverse(this,new Matrix)},transpose:function(){return Matrix.transpose(this,new Matrix)},multiply:function(e){return Matrix.multiply(this,e,new Matrix)},transformPoint:function(e){var t=this.m;return(new Vector(t[0]*e.x+t[1]*e.y+t[2]*e.z+t[3],t[4]*e.x+t[5]*e.y+t[6]*e.z+t[7],t[8]*e.x+t[9]*e.y+t[10]*e.z+t[11])).divide(t[12]*e.x+t[13]*e.y+t[14]*e.z+t[15])},transformVector:function(e){var t=this.m;return new Vector(t[0]*e.x+t[1]*e.y+t[2]*e.z,t[4]*e.x+t[5]*e.y+t[6]*e.z,t[8]*e.x+t[9]*e.y+t[10]*e.z)}},Matrix.inverse=function(e,t){t=t||new Matrix;var n=e.m,r=t.m;r[0]=n[5]*n[10]*n[15]-n[5]*n[14]*n[11]-n[6]*n[9]*n[15]+n[6]*n[13]*n[11]+n[7]*n[9]*n[14]-n[7]*n[13]*n[10],r[1]=-n[1]*n[10]*n[15]+n[1]*n[14]*n[11]+n[2]*n[9]*n[15]-n[2]*n[13]*n[11]-n[3]*n[9]*n[14]+n[3]*n[13]*n[10],r[2]=n[1]*n[6]*n[15]-n[1]*n[14]*n[7]-n[2]*n[5]*n[15]+n[2]*n[13]*n[7]+n[3]*n[5]*n[14]-n[3]*n[13]*n[6],r[3]=-n[1]*n[6]*n[11]+n[1]*n[10]*n[7]+n[2]*n[5]*n[11]-n[2]*n[9]*n[7]-n[3]*n[5]*n[10]+n[3]*n[9]*n[6],r[4]=-n[4]*n[10]*n[15]+n[4]*n[14]*n[11]+n[6]*n[8]*n[15]-n[6]*n[12]*n[11]-n[7]*n[8]*n[14]+n[7]*n[12]*n[10],r[5]=n[0]*n[10]*n[15]-n[0]*n[14]*n[11]-n[2]*n[8]*n[15]+n[2]*n[12]*n[11]+n[3]*n[8]*n[14]-n[3]*n[12]*n[10],r[6]=-n[0]*n[6]*n[15]+n[0]*n[14]*n[7]+n[2]*n[4]*n[15]-n[2]*n[12]*n[7]-n[3]*n[4]*n[14]+n[3]*n[12]*n[6],r[7]=n[0]*n[6]*n[11]-n[0]*n[10]*n[7]-n[2]*n[4]*n[11]+n[2]*n[8]*n[7]+n[3]*n[4]*n[10]-n[3]*n[8]*n[6],r[8]=n[4]*n[9]*n[15]-n[4]*n[13]*n[11]-n[5]*n[8]*n[15]+n[5]*n[12]*n[11]+n[7]*n[8]*n[13]-n[7]*n[12]*n[9],r[9]=-n[0]*n[9]*n[15]+n[0]*n[13]*n[11]+n[1]*n[8]*n[15]-n[1]*n[12]*n[11]-n[3]*n[8]*n[13]+n[3]*n[12]*n[9],r[10]=n[0]*n[5]*n[15]-n[0]*n[13]*n[7]-n[1]*n[4]*n[15]+n[1]*n[12]*n[7]+n[3]*n[4]*n[13]-n[3]*n[12]*n[5],r[11]=-n[0]*n[5]*n[11]+n[0]*n[9]*n[7]+n[1]*n[4]*n[11]-n[1]*n[8]*n[7]-n[3]*n[4]*n[9]+n[3]*n[8]*n[5],r[12]=-n[4]*n[9]*n[14]+n[4]*n[13]*n[10]+n[5]*n[8]*n[14]-n[5]*n[12]*n[10]-n[6]*n[8]*n[13]+n[6]*n[12]*n[9],r[13]=n[0]*n[9]*n[14]-n[0]*n[13]*n[10]-n[1]*n[8]*n[14]+n[1]*n[12]*n[10]+n[2]*n[8]*n[13]-n[2]*n[12]*n[9],r[14]=-n[0]*n[5]*n[14]+n[0]*n[13]*n[6]+n[1]*n[4]*n[14]-n[1]*n[12]*n[6]-n[2]*n[4]*n[13]+n[2]*n[12]*n[5],r[15]=n[0]*n[5]*n[10]-n[0]*n[9]*n[6]-n[1]*n[4]*n[10]+n[1]*n[8]*n[6]+n[2]*n[4]*n[9]-n[2]*n[8]*n[5];var i=n[0]*r[0]+n[1]*r[4]+n[2]*r[8]+n[3]*r[12];for(var s=0;s<16;s++)r[s]/=i;return t},Matrix.transpose=function(e,t){t=t||new Matrix;var n=e.m,r=t.m;return r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15],t},Matrix.multiply=function(e,t,n){n=n||new Matrix;var r=e.m,i=t.m,s=n.m;return s[0]=r[0]*i[0]+r[1]*i[4]+r[2]*i[8]+r[3]*i[12],s[1]=r[0]*i[1]+r[1]*i[5]+r[2]*i[9]+r[3]*i[13],s[2]=r[0]*i[2]+r[1]*i[6]+r[2]*i[10]+r[3]*i[14],s[3]=r[0]*i[3]+r[1]*i[7]+r[2]*i[11]+r[3]*i[15],s[4]=r[4]*i[0]+r[5]*i[4]+r[6]*i[8]+r[7]*i[12],s[5]=r[4]*i[1]+r[5]*i[5]+r[6]*i[9]+r[7]*i[13],s[6]=r[4]*i[2]+r[5]*i[6]+r[6]*i[10]+r[7]*i[14],s[7]=r[4]*i[3]+r[5]*i[7]+r[6]*i[11]+r[7]*i[15],s[8]=r[8]*i[0]+r[9]*i[4]+r[10]*i[8]+r[11]*i[12],s[9]=r[8]*i[1]+r[9]*i[5]+r[10]*i[9]+r[11]*i[13],s[10]=r[8]*i[2]+r[9]*i[6]+r[10]*i[10]+r[11]*i[14],s[11]=r[8]*i[3]+r[9]*i[7]+r[10]*i[11]+r[11]*i[15],s[12]=r[12]*i[0]+r[13]*i[4]+r[14]*i[8]+r[15]*i[12],s[13]=r[12]*i[1]+r[13]*i[5]+r[14]*i[9]+r[15]*i[13],s[14]=r[12]*i[2]+r[13]*i[6]+r[14]*i[10]+r[15]*i[14],s[15]=r[12]*i[3]+r[13]*i[7]+r[14]*i[11]+r[15]*i[15],n},Matrix.identity=function(e){e=e||new Matrix;var t=e.m;return t[0]=t[5]=t[10]=t[15]=1,t[1]=t[2]=t[3]=t[4]=t[6]=t[7]=t[8]=t[9]=t[11]=t[12]=t[13]=t[14]=0,e},Matrix.perspective=function(e,t,n,r,i){var s=Math.tan(e*Math.PI/360)*n,o=s*t;return Matrix.frustum(-o,o,-s,s,n,r,i)},Matrix.frustum=function(e,t,n,r,i,s,o){o=o||new Matrix;var u=o.m;return u[0]=2*i/(t-e),u[1]=0,u[2]=(t+e)/(t-e),u[3]=0,u[4]=0,u[5]=2*i/(r-n),u[6]=(r+n)/(r-n),u[7]=0,u[8]=0,u[9]=0,u[10]=-(s+i)/(s-i),u[11]=-2*s*i/(s-i),u[12]=0,u[13]=0,u[14]=-1,u[15]=0,o},Matrix.ortho=function(e,t,n,r,i,s,o){o=o||new Matrix;var u=o.m;return u[0]=2/(t-e),u[1]=0,u[2]=0,u[3]=-(t+e)/(t-e),u[4]=0,u[5]=2/(r-n),u[6]=0,u[7]=-(r+n)/(r-n),u[8]=0,u[9]=0,u[10]=-2/(s-i),u[11]=-(s+i)/(s-i),u[12]=0,u[13]=0,u[14]=0,u[15]=1,o},Matrix.scale=function(e,t,n,r){r=r||new Matrix;var i=r.m;return i[0]=e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=t,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=n,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,r},Matrix.translate=function(e,t,n,r){r=r||new Matrix;var i=r.m;return i[0]=1,i[1]=0,i[2]=0,i[3]=e,i[4]=0,i[5]=1,i[6]=0,i[7]=t,i[8]=0,i[9]=0,i[10]=1,i[11]=n,i[12]=0,i[13]=0,i[14]=0,i[15]=1,r},Matrix.rotate=function(e,t,n,r,i){if(!e||!t&&!n&&!r)return Matrix.identity(i);i=i||new Matrix;var s=i.m,o=Math.sqrt(t*t+n*n+r*r);e*=Math.PI/180,t/=o,n/=o,r/=o;var u=Math.cos(e),a=Math.sin(e),f=1-u;return s[0]=t*t*f+u,s[1]=t*n*f-r*a,s[2]=t*r*f+n*a,s[3]=0,s[4]=n*t*f+r*a,s[5]=n*n*f+u,s[6]=n*r*f-t*a,s[7]=0,s[8]=r*t*f-n*a,s[9]=r*n*f+t*a,s[10]=r*r*f+u,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,i},Matrix.lookAt=function(e,t,n,r,i,s,o,u,a,f){f=f||new Matrix;var l=f.m,c=new Vector(e,t,n),h=new Vector(r,i,s),p=new Vector(o,u,a),d=c.subtract(h).unit(),v=p.cross(d).unit(),m=d.cross(v).unit();return l[0]=v.x,l[1]=v.y,l[2]=v.z,l[3]=-v.dot(c),l[4]=m.x,l[5]=m.y,l[6]=m.z,l[7]=-m.dot(c),l[8]=d.x,l[9]=d.y,l[10]=d.z,l[11]=-d.dot(c),l[12]=0,l[13]=0,l[14]=0,l[15]=1,f};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.mesh=function(e,t,n){},EJSS_WEBGLGRAPHICS.indexer=function(){var e={},t=[],n=[],r={};return e.getUnique=function(){return t},e.add=function(e){var n=JSON.stringify(e);return n in r||(r[n]=t.length,t.push(e)),r[n]},e},EJSS_WEBGLGRAPHICS.buffer=function(e,t,n){var r={},i=null,t=t,n=n,s="",o=[];return r.setData=function(e){o=e},r._0=function(e){s=e},r.getBuffer=function(){return i},r.getName=function(){return s},r.compile=function(r){var s=[];for(var u=0,a=1e4;u<o.length;u+=a)s=Array.prototype.concat.apply(s,o.slice(u,u+a));var f=o.length?s.length/o.length:0;if(f!=Math.round(f))throw"buffer elements not of consistent size, average size is "+f;i=i||e.createBuffer(),i.length=s.length,i.spacing=f,e.bindBuffer(t,i),e.bufferData(t,new n(s),r||e.STATIC_DRAW)},r};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.plane=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.Shader={},EJSS_WEBGLGRAPHICS.shader=function(e,t,n,r){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.sphere=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.surface=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.text=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.Texture={},EJSS_WEBGLGRAPHICS.texture=function(e,t,n,r){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.trail=function(e,t){};var EJSS_WEBGLGRAPHICS=EJSS_WEBGLGRAPHICS||{};EJSS_WEBGLGRAPHICS.Utils={},EJSS_WEBGLGRAPHICS.Utils.regexMap=function(e,t,n){while((result=e.exec(t))!=null)n(result)},EJSS_WEBGLGRAPHICS.Utils.isArray=function(e){var t=Object.prototype.toString.call(e);return t=="[object Array]"||t=="[object Float32Array]"},EJSS_WEBGLGRAPHICS.Utils.isNumber=function(e){var t=Object.prototype.toString.call(e);return t=="[object Number]"||t=="[object Boolean]"},Vector.prototype={setx:function(e){this.x=e},sety:function(e){this.y=e},setz:function(e){this.z=e},getx:function(){return this.x},gety:function(){return this.y},getz:function(){return this.z},negative:function(){return new Vector(-this.x,-this.y,-this.z)},add:function(e){return e instanceof Vector?new Vector(this.x+e.x,this.y+e.y,this.z+e.z):new Vector(this.x+e,this.y+e,this.z+e)},subtract:function(e){return e instanceof Vector?new Vector(this.x-e.x,this.y-e.y,this.z-e.z):new Vector(this.x-e,this.y-e,this.z-e)},multiply:function(e){return e instanceof Vector?new Vector(this.x*e.x,this.y*e.y,this.z*e.z):new Vector(this.x*e,this.y*e,this.z*e)},divide:function(e){return e instanceof Vector?new Vector(this.x/e.x,this.y/e.y,this.z/e.z):new Vector(this.x/e,this.y/e,this.z/e)},equals:function(e){return this.x==e.x&&this.y==e.y&&this.z==e.z},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){return new Vector(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},length:function(){return Math.sqrt(this.dot(this))},unit:function(){return this.divide(this.length())},min:function(){return Math.min(Math.min(this.x,this.y),this.z)},max:function(){return Math.max(Math.max(this.x,this.y),this.z)},toAngles:function(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}},toArray:function(e){return[this.x,this.y,this.z].slice(0,e||3)},clone:function(){return new Vector(this.x,this.y,this.z)},init:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},Vector.negative=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},Vector.add=function(e,t,n){return t instanceof Vector?(n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z):(n.x=e.x+t,n.y=e.y+t,n.z=e.z+t),n},Vector.subtract=function(e,t,n){return t instanceof Vector?(n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z):(n.x=e.x-t,n.y=e.y-t,n.z=e.z-t),n},Vector.multiply=function(e,t,n){return t instanceof Vector?(n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z):(n.x=e.x*t,n.y=e.y*t,n.z=e.z*t),n},Vector.divide=function(e,t,n){return t instanceof Vector?(n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z):(n.x=e.x/t,n.y=e.y/t,n.z=e.z/t),n},Vector.cross=function(e,t,n){return n.x=e.y*t.z-e.z*t.y,n.y=e.z*t.x-e.x*t.z,n.z=e.x*t.y-e.y*t.x,n},Vector.unit=function(e,t){var n=e.length();return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},Vector.fromAngles=function(e,t){return new Vector(Math.cos(e)*Math.cos(t),Math.sin(t),Math.sin(e)*Math.cos(t))},Vector.randomDirection=function(){return Vector.fromAngles(Math.random()*Math.PI*2,Math.asin(Math.random()*2-1))},Vector.min=function(e,t){return new Vector(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.min(e.z,t.z))},Vector.max=function(e,t){return new Vector(Math.max(e.x,t.x),Math.max(e.y,t.y),Math.max(e.z,t.z))},Vector.lerp=function(e,t,n){return t.subtract(e).multiply(n).add(e)},Vector.fromArray=function(e){return new Vector(e[0],e[1],e[2])};var EJSS_GRAPHICS=EJSS_GRAPHICS||{};EJSS_GRAPHICS.WebGLGraphics={},EJSS_GRAPHICS.webGLGraphics=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Plane={},EJSS_DRAWING3D.plane=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Sphere={},EJSS_DRAWING3D.sphere=function(e){},EJSS_DRAWING3D.SphereSet={},EJSS_DRAWING3D.sphereSet=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Surface={},EJSS_DRAWING3D.surface=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Text={},EJSS_DRAWING3D.text=function(e){};var EJSS_DRAWING3D=EJSS_DRAWING3D||{};EJSS_DRAWING3D.Trail={},EJSS_DRAWING3D.trail=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Audio={},EJSS_INTERFACE.audio=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Button={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Text",e.setText),t.registerProperty("Disabled",e.setDisabled),t.registerProperty("ImageUrl",e.setImageUrl),t.registerAction("OnClick")}},EJSS_INTERFACE.button=function(e){var t=EJSS_INTERFACE.element(e),n="",r="";t.setDisabled=function(e){t.getDOMElement().disabled=e},t.getDisabled=function(){return t.getDOMElement().disabled},t.setText=function(e){r=e,n="",t.getDOMElement().innerHTML=r.toString()},t.getText=function(){return r},t.setImageUrl=function(e){n=t.getResourcePath(e),r="",t.getDOMElement().innerHTML='<img src="'+n+'"/>'},t.getImageUrl=function(){return n},t.registerProperties=function(e){EJSS_INTERFACE.Button.registerProperties(t,e)};var i=document.createElement("button");return i.id=e,document.body.appendChild(i),t.setDOMElement(i),t.getDOMElement().onclick=function(){var e=t.getController();e&&e.invokeAction("OnClick").reportInteractions()},t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Canvas={},EJSS_INTERFACE.canvas=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.CheckBox={},EJSS_INTERFACE.checkBox=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.ComboBox={},EJSS_INTERFACE.comboBox=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Element={registerProperties:function(e,t){e.setController(t),t.registerProperty("Tooltip",e.setTitle),t.registerProperty("Foreground",e.getStyle().setColor),t.registerProperty("Background",e.getStyle().setBackgroundColor),t.registerProperty("BorderWidth",e.getStyle().setBorderWidth),t.registerProperty("BorderColor",e.getStyle().setBorderColor),t.registerProperty("BorderStyle",e.getStyle().setBorderStyle),t.registerProperty("Padding",e.getStyle().setPadding),t.registerProperty("Width",e.getStyle().setWidth,e.getStyle().getWidth),t.registerProperty("Height",e.getStyle().setHeight,e.getStyle().getHeight),t.registerProperty("LineHeight",e.getStyle().setLineHeight,e.getStyle().getLineHeight),t.registerProperty("TextAlign",e.getStyle().setTextAlign),t.registerProperty("VerticalAlign",e.getStyle().setVerticalAlign),t.registerProperty("Visibility",e.getStyle().setVisibility),t.registerProperty("Display",e.getStyle().setDisplay),t.registerProperty("Disabled",e.setDisabled),t.registerProperty("Float",e.getStyle().setFloat),t.registerProperty("Position",e.getStyle().setPosition),t.registerProperty("Left",e.getStyle().setLeft),t.registerProperty("Top",e.getStyle().setTop),t.registerProperty("Bottom",e.getStyle().setBottom),t.registerProperty("Overflow",e.getStyle().setOverflow),t.registerProperty("BoxShadow",e.getStyle().setShadow),t.registerProperty("Margin",e.getStyle().setMargin),t.registerProperty("Parent",e.setParent),t.registerProperty("CSS",e.getStyle().setCSS),t.registerProperty("Font",e.getStyle().setFont),t.registerProperty("FontFamily",e.getStyle().setFontFamily),t.registerProperty("FontSize",e.getStyle().setFontSize),t.registerProperty("LetterSpacing",e.getStyle().setLetterSpacing),t.registerProperty("OutlineColor",e.getStyle().setOutlineColor),t.registerProperty("FontWeight",e.getStyle().setFontWeight),t.registerProperty("FillColor",e.getStyle().setFillColor),t.registerProperty("FontStyle",e.getStyle().setFontStyle)}},EJSS_INTERFACE.element=function(e){var t={},n,r,i=EJSS_INTERFACE.style(e),s=null;return t.getDOMElement=function(){return n},t.setDOMElement=function(e){n=e},t.setParent=function(e){r=e;if(typeof e=="string"){var n=document.getElementById(e);n.appendChild(t.getDOMElement())}else e.getDOMElement?e.appendChild(t):e.appendChild(t.getDOMElement())},t.getParent=function(){return r},t.getName=function(){return e},t.getResourcePath=function(e){return e},t.setDisabled=function(e){t.getDOMElement().disabled=e},t.getDisabled=function(){return t.getDOMElement().disabled},t.setTitle=function(e){t.getDOMElement().title=e},t.getTitle=function(){return t.getDOMElement().title},t.getStyle=function(){return i},t.getController=function(){return s},t.setController=function(e){s=e},t.registerProperties=function(e){EJSS_INTERFACE.Element.registerProperties(t,e)},t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.FunctionField={},EJSS_INTERFACE.functionField=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Html={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Html",e.setHtml),t.registerProperty("Url",e.setUrl)}},EJSS_INTERFACE.html=function(e){var t=EJSS_INTERFACE.element(e);t.setHtml=function(e){t.getDOMElement().innerHTML=e.toString()},t.getHtml=function(){return t.getDOMElement().innerHTML},t.setUrl=function(e){e.indexOf("http:")!=0&&e.indexOf("https:")!=0&&(e=t.getResourcePath(e)),t.getDOMElement().innerHTML='<embed width="100%" height="100%" src="'+e+'">'},t.registerProperties=function(e){EJSS_INTERFACE.Html.registerProperties(t,e)};var n=document.createElement("div");return n.id=e,n.style.overflow="auto",n.style.textAlign="left",document.body.appendChild(n),t.setDOMElement(n),t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Image={},EJSS_INTERFACE.image=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.ImageAndTextButton={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Text",e.setText),t.registerProperty("ImageUrl",e.setImageUrl),t.registerAction("OnClick")}},EJSS_INTERFACE.imageAndTextButton=function(e){var t=EJSS_INTERFACE.element(e),n="",r="";t.setText=function(e){n=e.toString(),t.getDOMElement().innerHTML=r+n},t.getText=function(){return n},t.setImageUrl=function(e){r='<img src="'+t.getResourcePath(e)+'"/>',t.getDOMElement().innerHTML=r+n},t.getImageUrl=function(){return r},t.registerProperties=function(e){EJSS_INTERFACE.ImageAndTextButton.registerProperties(t,e)};var i=document.createElement("button");return i.id=e,i.style.borderStyle="none",i.style.backgroundColor="transparent",document.body.appendChild(i),t.setDOMElement(i),t.getDOMElement().onclick=function(){var e=t.getController();e&&e.invokeAction("OnClick").reportInteractions()},t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Label={},EJSS_INTERFACE.label=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.NumberField={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Value",e.setValue,e.getValue),t.registerProperty("Editable",e.setEditable),t.registerProperty("Format",e.setFormat),t.registerProperty("Size",e.setSize),t.registerAction("OnChange")}},EJSS_INTERFACE.numberField=function(e){function t(){var e=n.getDOMElement(),t=e.value;if(!isNaN(parseFloat(t))&&isFinite(t)){n.getStyle().setBackgroundColor("white"),i?n.getDOMElement().value=parseFloat(t).toExponential(r):n.getDOMElement().value=parseFloat(t).toFixed(r);var s=n.getController();return s&&(s.propertiesChanged("Value"),s.invokeAction("OnChange"),s.reportInteractions()),!0}return n.getStyle().setBackgroundColor("red"),!1}var n=EJSS_INTERFACE.element(e),r=3,i=!1,s=!1,o=!1;n.registerProperties=function(e){EJSS_INTERFACE.NumberField.registerProperties(n,e)},n.setValue=function(e){o||(typeof e=="undefined"?n.getDOMElement().value="value undefined":!isNaN(parseFloat(e))&&isFinite(e)&&(i?n.getDOMElement().value=parseFloat(e).toExponential(r):n.getDOMElement().value=parseFloat(e).toFixed(r)))},n.getValue=function(){var e=n.getDOMElement().value;return!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):e},n.setEditable=function(e){n.getDOMElement().readOnly=!e},n.getEditable=function(){return!n.getDOMElement().readOnly},n.setSize=function(e){n.getDOMElement().size=e},n.getSize=function(){return n.getDOMElement().size},n.setFormat=function(e){var t=e.indexOf("."),s=e.toUpperCase().indexOf("E");if(s==-1){var o=0;t>=0&&(o=Number(e.length-t-1));if(i||r!=o)r=o,i=!1,n.setValue(n.getValue())}else{var o=0;t>=0&&(o=Number(s-t-1));if(!i||r!=o)r=o,i=!0,n.setValue(n.getValue())}};var u=document.createElement("input");return u.type="tel",u.id=e,u.value=0,document.body.appendChild(u),n.setDOMElement(u),n.getDOMElement().onkeydown=function(e){var r=n.getDOMElement();if(!r.readOnly){var i=window.event.which?window.event.which:window.event.keyCode;i==13?(o=!t(),s=!0,document.activeElement.blur()):(n.getStyle().setBackgroundColor("yellow"),s=!1,o=!0)}},n.getDOMElement().onblur=function(e){!e.readOnly&&!s&&o&&(o=!t())},n};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Panel={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t)}},EJSS_INTERFACE.panel=function(e){var t=EJSS_INTERFACE.element(e),n=EJSS_INTERFACE.panel;t.appendChild=function(e){var n=e.getDOMElement();t.getDOMElement().appendChild(n)},t.removeChild=function(e){var n=e.getDOMElement();t.getDOMElement().removeChild(n)},t.insertBefore=function(e,n){var r=e.getDOMElement(),i=n.getDOMElement();t.getDOMElement().insertBefore(r,i)},t.registerProperties=function(e){EJSS_INTERFACE.Panel.registerProperties(t,e)};var r=document.createElement("div");return r.id=e,document.body.appendChild(r),t.setDOMElement(r),t.getStyle().setPadding("0px"),t.getStyle().setMargin("0px"),t.getStyle().setTextAlign("TEXTA_CENTER"),t.getStyle().setCSS({display:"block","margin-left":"auto","margin-right":"auto"}),t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.PasswordField={},EJSS_INTERFACE.passwordField=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.RadioButton={},EJSS_INTERFACE.radioButton=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Separator={},EJSS_INTERFACE.separator=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.Slider={},EJSS_INTERFACE.slider=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||
{};EJSS_INTERFACE.Style={BORDER_SOLID:"solid",BORDER_DOTTED:"dotted",BORDER_DASHED:"dashed",TEXTA_LEFT:"left",TEXTA_RIGHT:"right",TEXTA_CENTER:"center",TEXTA_JUSTIFY:"justify",VISIB_VISIBLE:"visible",VISIB_HIDDEN:"hidden",FLOAT_LEFT:"left",FLOAT_RIGHT:"right",FLOAT_NONE:"none",FLOAT_CENTER:"none",POSITION_STATIC:"static",POSITION_ABSOLUTE:"absolute",POSITION_FIXED:"fixed",POSITION_RELATIVE:"relative",POSITION_INHERIT:"inherit",OVERFLOW_VISIBLE:"visible",OVERFLOW_HIDDEN:"hidden",OVERFLOW_SCROLL:"scroll",OVERFLOW_AUTO:"auto"},EJSS_INTERFACE.style=function(e){var t=EJSS_INTERFACE.Style,n={},r="white",i=0,s=t.BORDER_SOLID;return n.setCSS=function(t){var n=document.getElementById(e).style;for(var r in t)n[r]=t[r]},n.setVisibility=function(t){document.getElementById(e).style.visibility=t?"visible":"hidden"},n.getVisibility=function(){return document.getElementById(e).style.visibility=="visible"},n.setVerticalAlign=function(t){document.getElementById(e).style.verticalAlign=t},n.getVerticalAlign=function(){return document.getElementById(e).style.verticalAlign},n.setTextAlign=function(n){n.substring(0,6)=="TEXTA_"&&(n=t[n.toUpperCase()]),document.getElementById(e).style.textAlign=n},n.getTextAlign=function(){return document.getElementById(e).style.textAlign},n.setLineHeight=function(t){typeof t!="string"&&(t+="px"),document.getElementById(e).style.lineHeight=t},n.getLineHeight=function(){return document.getElementById(e).style.lineHeight},n.setHeight=function(t){typeof t!="string"&&(t+="px"),document.getElementById(e).style.height=t},n.getHeight=function(){return document.getElementById(e).style.height},n.setWidth=function(t){typeof t!="string"&&(t+="px"),document.getElementById(e).style.width=t},n.getWidth=function(){return document.getElementById(e).style.width},n.setOverflow=function(n){n.substring(0,6)=="OVERFL"&&(n=t[n.toUpperCase()]),document.getElementById(e).style.overflow=n},n.getOverflow=function(){return document.getElementById(e).style.overflow},n.setPosition=function(n){n.substring(0,6)=="POSITI"&&(n=t[n.toUpperCase()]),document.getElementById(e).style.position=n},n.getPosition=function(){return document.getElementById(e).style.position},n.setFloat=function(n){n.substring(0,6)=="FLOAT_"&&(n=t[n.toUpperCase()]),document.getElementById(e).style.float=n},n.getFloat=function(){return document.getElementById(e).style.float},n.setDisplay=function(t){document.getElementById(e).style.display=t},n.getDisplay=function(){return document.getElementById(e).style.display},n.setTop=function(t){document.getElementById(e).style.top=t},n.getTop=function(){return document.getElementById(e).style.top},n.setBottom=function(t){document.getElementById(e).style.bottom=t},n.getBottom=function(){return document.getElementById(e).style.bottom},n.setLeft=function(t){document.getElementById(e).style.left=t},n.getLeft=function(){return document.getElementById(e).style.left},n.setBorderStyle=function(n){n.substring(0,6)=="BORDER"&&(n=t[n.toUpperCase()]),s=n,document.getElementById(e).style.border=i+"px "+s+" "+r},n.getBorderStyle=function(){return s},n.setBorderWidth=function(t){i=t,document.getElementById(e).style.border=i+"px "+s+" "+r},n.getBorderWidth=function(){return i},n.setBorderColor=function(t){typeof t!="string"&&(t=EJSS_TOOLS.DisplayColors.getLineColor(t)),r=t,document.getElementById(e).style.border=i+"px "+s+" "+r},n.getBorderColor=function(){return r},n.setPadding=function(t){document.getElementById(e).style.padding=t},n.getPadding=function(){return document.getElementById(e).style.padding},n.setShadow=function(t){t?document.getElementById(e).style.boxShadow=t:document.getElementById(e).style.boxShadow=""},n.getShadow=function(){return document.getElementById(e).style.boxShadow!=""},n.setMargin=function(t){document.getElementById(e).style.margin=t},n.getMargin=function(){return document.getElementById(e).style.margin},n.setBackgroundColor=function(t){typeof t!="string"&&(t=EJSS_TOOLS.DisplayColors.getLineColor(t)),document.getElementById(e).style.backgroundColor=t},n.getBackgroundColor=function(){return document.getElementById(e).style.backgroundColor},n.setColor=function(t){typeof t!="string"&&(t=EJSS_TOOLS.DisplayColors.getLineColor(t)),document.getElementById(e).style.color=t},n.getColor=function(){return document.getElementById(e).style.color},n.getFont=function(){return document.getElementById(e).style.font},n.setFont=function(t){var n=document.getElementById(e).style,r=t.split(" ");n.fontStyle=r[0],n.fontWeight=r[1];var i=r[2].split("/");n.fontSize=i[0],i[1]&&(n.lineHeight=i[1]),r[3]&&(n.fontFamily=t.substring(t.indexOf(r[3])))},n.setFontStyle=function(t){document.getElementById(e).style.fontStyle=t},n.getFontStyle=function(){return document.getElementById(e).style.fontStyle},n.setFontFamily=function(t){document.getElementById(e).style.fontFamily=t},n.getFontFamily=function(){return document.getElementById(e).style.fontFamily},n.setFontSize=function(t){document.getElementById(e).style.fontSize=t},n.getFontSize=function(){return document.getElementById(e).style.fontSize},n.setLetterSpacing=function(t){document.getElementById(e).style.letterSpacing=t},n.getLetterSpacing=function(){return document.getElementById(e).style.letterSpacing},n.setOutlineColor=function(t){document.getElementById(e).style.stroke=t},n.getOutlineColor=function(){return document.getElementById(e).style.stroke},n.setFontWeight=function(t){document.getElementById(e).style.fontWeight=t},n.getFontWeight=function(){return document.getElementById(e).style.fontWeight},n.setFillColor=function(t){document.getElementById(e).style.fill=t},n.getFillColor=function(){return document.getElementById(e).style.fill},n};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.SvgGraphics={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Height",e.setHeight),t.registerProperty("Width",e.setWidth)}},EJSS_INTERFACE.svgGraphics=function(e){var t=EJSS_INTERFACE.element(e),n=EJSS_INTERFACE.SvgGraphics,r=0,i=0;t.setWidth=function(e){return i!=e?(i=e,t.getDOMElement().setAttribute("width",i),!0):!1},t.getWidth=function(){return i},t.setHeight=function(e){return r!=e?(r=e,t.getDOMElement().setAttribute("height",r),!0):!1},t.getHeight=function(){return r},t.registerProperties=function(e){EJSS_INTERFACE.SvgGraphics.registerProperties(t,e)};var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("id",e),s.setAttribute("width",500),s.setAttribute("height",500),s.style.overflow="hidden",s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),document.body.appendChild(s),t.setDOMElement(s),t};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.TextArea={},EJSS_INTERFACE.textArea=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.TextField={},EJSS_INTERFACE.textField=function(e){};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.TwoStateButton={OFF:!1,ON:!0,registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("TextOn",e.setTextOn),t.registerProperty("ImageOnUrl",e.setImageUrlOn),t.registerProperty("TextOff",e.setTextOff),t.registerProperty("ImageOffUrl",e.setImageUrlOff),t.registerProperty("State",e.setState,e.getState),t.registerAction("OnClick"),t.registerAction("OffClick")}},EJSS_INTERFACE.twoStateButton=function(e){function t(){r.getDOMElement().innerHTML="",a?i.src.length>0?r.getDOMElement().appendChild(i):r.getDOMElement().innerHTML=o.toString():s.src.length>0?r.getDOMElement().appendChild(s):r.getDOMElement().innerHTML=u.toString()}var n=EJSS_INTERFACE.TwoStateButton,r=EJSS_INTERFACE.element(e),i=new Image,s=new Image,o="",u="",a=-1;r.setTextOff=function(e){u=e,t()},r.getTextOff=function(){return u},r.setImageUrlOff=function(e){s.src=r.getResourcePath(e),t()},r.getImageUrlOff=function(){return s.src},r.setTextOn=function(e){o=e,t()},r.getTextOn=function(){return o},r.setImageUrlOn=function(e){i.src=r.getResourcePath(e),t()},r.getImageUrlOn=function(){return i.src},r.setState=function(e){typeof e=="string"&&(e=n[e.toUpperCase()]),e!=a&&(a=e,t())},r.getState=function(){return a},r.registerProperties=function(e){EJSS_INTERFACE.TwoStateButton.registerProperties(r,e)};var f=document.createElement("button");return f.id=e,document.body.appendChild(f),r.setDOMElement(f),r.getDOMElement().onclick=function(){var e=r.getState();r.setState(!e);var t=r.getController();t&&(t.propertiesChanged("State"),e?t.invokeAction("OnClick"):t.invokeAction("OffClick"),t.reportInteractions())},r};var EJSS_INTERFACE=EJSS_INTERFACE||{};EJSS_INTERFACE.WebGLCanvas={registerProperties:function(e,t){EJSS_INTERFACE.Element.registerProperties(e,t),t.registerProperty("Height",e.setHeight),t.registerProperty("Width",e.setWidth)}},EJSS_INTERFACE.webGLCanvas=function(e){var t=EJSS_INTERFACE.element(e),n=EJSS_INTERFACE.WebGLCanvas,r=0,i=0,s;t.setWidth=function(e){return i!=e?(i=e,s&&t.getDOMElement().setAttribute("width",i),!0):!1},t.getWidth=function(){return i},t.setHeight=function(e){return r!=e?(r=e,s&&t.getDOMElement().setAttribute("height",r),!0):!1},t.getHeight=function(){return r},t.getContext=function(){return s},t.registerProperties=function(e){EJSS_INTERFACE.WebGLCanvas.registerProperties(t,e)};var o=document.createElement("canvas");o.setAttribute("id",e),o.setAttribute("width",500),o.setAttribute("height",500),document.body.appendChild(o),t.setDOMElement(o),t.getStyle().setBorderColor("black"),t.getStyle().setBorderWidth(2);try{s=o.getContext("webgl")}catch(u){}try{s=s||o.getContext("experimental-webgl")}catch(u){}if(!s){t.getStyle().setBackgroundColor("rgb(239,239,255)");var a=o.getContext("2d");a.font="bold 16px Arial",a.fillText("WebGL not supported!",100,100)}return t};var EJSS_CORE=EJSS_CORE||{};EJSS_CORE.createAnimation=function(){function e(e){for(var t=0,n=e.length;t<n;t++){a=!1,e[t]();if(a)return}}var t={},n=10,r=n,i=1,s=!1,o=!0,u=!1,a=!1,f=+(new Date),l=!1,c=null,h=NaN,p=r,d=0,v=!0;t.setView=function(e){c=e,c._12(function(){l||c._16()&&(t.automaticResetSolvers(),t.update())})},t.setFPS=function(e){r=Math.max(1e3/e,n)},t.getFPS=function(){return Math.int(1e3/r)},t.setDelay=function(e){r=Math.max(e,0)},t.setStepsPerDisplay=function(e){e>=1&&(i=e)},t.setUpdateView=function(e){o=e},t.setAutoplay=function(e){u=e},t.isPlaying=function(){return l},t.isPaused=function(){return!l},t.resetRealTime=function(){var e=+Date();h=1e3*t.getRealTime()-e},t.play=function(){if(l)return;f=+(new Date),p=r,l=!0,t.run()},t.pause=function(){l=!1,s=!0},t.run=function(){if(!l)return;if(v){var e=!1,n=+(new Date),r=n-f;if(r>=p-d){var i=0;p&&(i=Math.floor((r+d)/p),d=r+d-i*p);var s=t.step(i);p&&s>r&&i>100&&(alert("Imposible running with delay "+p+" ms. Using best-efforts (delay=0)."),p=0,d=0),e=!0}c._16()&&(t.automaticResetSolvers(),t.update()),e&&(f=n)}else f=+(new Date);window.setTimeout(t.run,1)},t.onExit=function(){t.pause(),c._16(),t.freeMemory()},t.reset=function(e){e||(t.pause(),t.resetModel()),c._14(!1),c._reset(),e||(c._15(),c._initialize(),t.initializeModel()),t.updateModel(),o?(c._update(),c._render()):c._collectData(),c._14(!0),u&&t.play()},t.initialize=function(){c._initialize(),t.initializeModel(),t.updateModel(),o?(c._update(),c._render()):c._collectData()},t.update=function(){if(!v)return;t.updateModel(),o?(c._update(),c._render()):c._collectData()},t.step=function(e){var n=+(new Date),r=Math.max(e,i);if(r>1){s=!1;for(var o=1;o<r;o++){if(s){t.update();return}t.stepModel(),t.updateModel(),c._collectData()}}t.stepModel();var u=+(new Date)-n;return t.update(),u},t.setShouldBreak=function(e){a=e},t.getShouldBreak=function(){return a},t._autoSelectView=function(e){var t=screen.height,n=screen.width,r=[],i=Number.MAX_VALUE;for(var s=0;s<e.length;s++){var o=n-e[s].width;o>=0&&(o<i?(i=o,r=[s]):o==i&&r.push(s))}var u=-1;i=Number.MAX_VALUE;for(var s=0;s<r.length;s++){var o=Math.abs(t-e[r[s]].height);o<i&&(i=o,u=r[s])}return u};var m=[],g=[],y=[],b=[];return t.getRealTime=function(){return NaN},t.automaticResetSolvers=function(){},t.freeMemory=function(){},t.addToReset=function(e){m.push(e)},t.addToInitialization=function(e){g.push(e)},t.addToEvolution=function(e){y.push(e)},t.addToFixedRelations=function(e){b.push(e)},t.resetModel=function(){e(m)},t.initializeModel=function(){e(g)},t.stepModel=function(){e(y)},t.updateModel=function(){e(b)},window.onblur=function(){v=!1},window.onfocus=function(){v=!0},t};var EJSS_ODE_SOLVERS=EJSS_ODE_SOLVERS||{};EJSS_ODE_SOLVERS.ODEMultistepSolver={NO_ERROR:0,DID_NOT_CONVERGE:1},EJSS_ODE_SOLVERS.createODEMultistepSolver=function(e){function t(){var e=c.getTolerance(),t=f;(c.getStepSize()<=0||c.getStepSize()>f||f-c.getStepSize()==f)&&c.setStepSize(f);var n=0;while(t>e*f){n++;var r=t;if(t<c.getStepSize()){var i=c.getStepSize();c.setStepSize(t);var l=c.step();t-=l,c.setStepSize(i)}else t-=c.step();if(c.getErrorCode()!=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR||Math.abs(r-t)<=Number.MIN_VALUE||e*f/10>c.getStepSize()||n>o){a="ODEMultiStep did not converge. Remainder="+t,s=EJSS_ODE_SOLVERS.ODEMultistepSolver.DID_NOT_CONVERGE;if(u)throw a;mMaxMessages>0&&(mMaxMessages--,console.log(a));break}}return t}function n(){var e=c.getTolerance(),t=f;(c.getStepSize()>=0||c.getStepSize()<f||f-c.getStepSize()==f)&&c.setStepSize(f);var n=0;while(t<e*f){n++;var r=t;if(t>c.getStepSize()){var i=c.getStepSize();c.setStepSize(t);var u=c.step();t-=u,c.setStepSize(i)}else t-=c.step();if(c.getErrorCode()!=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR||Math.abs(r-t)<=Number.MIN_VALUE||e*f/10<c.getStepSize()||n>o){a="ODEMultiStep did not converge. Remainder="+t,s=EJSS_ODE_SOLVERS.ODEMultistepSolver.DID_NOT_CONVERGE;if(enableExceptions)throw a;mMaxMessages>0&&(mMaxMessages--,console.log(a))}}return t}var r={},i=3,s=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR,o=200,u=!1,a="",f=.1,l=EJSS_ODE_SOLVERS.createODEMultistepSolverInternalODE(e),c=EJSS_ODE_SOLVERS.createCashKarp45(l);return r.enableRuntimeExceptions=function(e){u=e},r.setMaxIterations=function(e){o=Math.max(1,e)},r.setTolerance=function(e){e=Math.abs(e),c.setTolerance(e)},r.getTolerance=function(){return c.getTolerance()},r.getErrorCode=function(){return s},r.initialize=function(e){mMaxMessages=4,a="",s=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR,f=e,l.setInitialConditions(),c.initialize(e)},r.setStepSize=function(e){mMaxMessages=4,f=e,e<0?c.setStepSize(Math.max(-Math.abs(c.getStepSize()),e)):c.setStepSize(Math.min(c.getStepSize(),e))},r.setMaximumNumberOfErrorMessages=function(e){mMaxMessages=e},r.getStepSize=function(){return f},r.step=function(){s=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR,l.setInitialConditions();var e=0;return f>0?e=t():e=n(),l.update(),f-e},r},EJSS_ODE_SOLVERS.createODEMultistepSolverInternalODE=function(e){var t={},n=[];return t.getRate=function(t,n){e.getRate(t,n)},t.getState=function(){return n},t.setInitialConditions=function(){var t=e.getState();if(t==null)return;if(n==null||n.length!=t.length)n=new Array(t.length);for(var r=0,i=t.length;r<i;r++)n[r]=t[r]},t.update=function(){var t=e.getState();for(var r=0,i=t.length;r<i;r++)t[r]=n[r]},t.setInitialConditions(),t},EJSS_ODE_SOLVERS.createCashKarp45=function(e){var t={},n=[[.2],[.075,.225],[.3,-0.9,1.2],[-11/54,2.5,-70/27,35/27],[1631/55296,175/512,575/13824,44275/110592,253/4096]],r=[37/378,0,250/621,125/594,0,512/1771],i=[277/64512,0,-6925/370944,6925/202752,277/14336,-277/7084],s=6,o=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR,u=.01,a=0,f=[],l=[],c,h=1e-6,p=!1;return t.enableRuntimeExpecptions=function(e){p=e},t.setStepSize=function(e){u=e},t.getStepSize=function(){return u},t.setTolerance=function(e){h=Math.abs(e);if(h<1e-12){var t="Error: Cash-Karp ODE solver tolerance cannot be smaller than 1.0e-12.";if(p)throw t;console.log(t),h=1e-12}},t.getTolerance=function(){return h},t.getErrorCode=function(){return o},t.initialize=function(t){u=t;var n=e.getState();if(n==null)return;if(a!=n.length){a=n.length,f=new Array(a),l=new Array(s);for(var r=0;r<s;r++)l[r]=new Array(a)}},t.step=function(){var t,d,v,m=10,g=u,y=0,b=e.getState();o=EJSS_ODE_SOLVERS.ODEMultistepSolver.NO_ERROR,e.getRate(b,l[0]);do{m--,g=u;for(v=1;v<s;v++){for(t=0;t<a;t++){f[t]=b[t];for(d=0;d<v;d++)f[t]=f[t]+u*n[v-1][d]*l[d][t]}e.getRate(f,l[v])}y=0;for(t=0;t<a;t++){c=0;for(v=0;v<s;v++)c+=u*i[v]*l[v][t];y=Math.max(y,Math.abs(c))}y<=Number.MIN_VALUE&&(y=h/1e5);if(y>h){var w=.9*Math.pow(y/h,-0.25);u*=Math.max(w,.1)}else if(y<h/10){var w=.9*Math.pow(y/h,-0.2);w>1&&(u*=Math.min(w,10))}}while(y>h&&m>0);for(t=0;t<a;t++)for(v=0;v<s;v++)b[t]+=g*r[v]*l[v][t];if(m==0){o=EJSS_ODE_SOLVERS.ODEMultistepSolver.DID_NOT_CONVERGE;if(p)throw"DormanPrince45 ODE solver did not converge."}return g},t.initialize(u),t};var EJSS_ODE_SOLVERS=EJSS_ODE_SOLVERS||{};EJSS_ODE_SOLVERS.Euler={},EJSS_ODE_SOLVERS.createEulerODESolver=function(e){var t=EJSS_ODE_SOLVERS.createSolverInterpolatorDiscreteTime(e),n,r=t.initialize;return t.initialize=function(e){r(e),n=new Array(t.getDimension())},t.computeIntermediateStep=function(t,r){e.getRate(r,n);for(var i=0,s=r.length;i<s;i++)r[i]=r[i]+t*n[i];return r},t};var EJSS_ODE_SOLVERS=EJSS_ODE_SOLVERS||{};EJSS_ODE_SOLVERS.RungeKutta4={},EJSS_ODE_SOLVERS.createRungeKutta4ODESolver=function(e){var t=EJSS_ODE_SOLVERS.createSolverInterpolatorDiscreteTime(e),n,r,i,s,o,u=t.initialize;return t.initialize=function(e){u(e),n=new Array(t.getDimension()),r=new Array(t.getDimension()),i=new Array(t.getDimension()),s=new Array(t.getDimension()),o=new Array(t.getDimension())},t.computeIntermediateStep=function(t,u){e.getRate(u,r);for(var a=0,f=u.length;a<f;a++)n[a]=u[a],u[a]=n[a]+t*r[a]/2;e.getRate(u,i);for(var a=0,f=u.length;a<f;a++)u[a]=n[a]+t*i[a]/2;e.getRate(u,s);for(var a=0,f=u.length;a<f;a++)u[a]=n[a]+t*s[a];e.getRate(u,o);for(var a=0,f=u.length;a<f;a++)u[a]=n[a]+t*(r[a]+2*i[a]+2*s[a]+o[a])/6;return u},t};var EJSS_ODE_SOLVERS=EJSS_ODE_SOLVERS||{};EJSS_ODE_SOLVERS.SolverInterpolatorDiscreteTime={},EJSS_ODE_SOLVERS.createSolverInterpolatorDiscreteTime=function(e){var t={},n=0,r,i,s=0,o=.1,u=Number.POSITIVE_INFINITY,a=0,f=0,l,c,h,p,d=0,v=!1,m=[],g,y;return t.getNumberOfEvaluations=function(){return 0},t.allocateOtherArrays=function(){},t.computeIntermediateStep=function(e,t){return null},t.computeCarefulIntermediateStep=function(e,t,n){return 0},t.setTolerance=function(e){d=Math.abs(e)},t.getDimension=function(){return r},t.initialize=function(t){o=t;var n=e.getState();r=n.length},t.step=function(){var n=e.getState();return t.computeIntermediateStep(o,n),0},t.setStepSize=function(e){o=e},t.getStepSize=function(){return o},t};var EJSS_CORE=EJSS_CORE||{};EJSS_CORE.createRemoteView=function(e,t,n,r){function i(e,t){if(!h)return;t!==undefined?l.send(e+JSON.stringify(t)):l.send(e);var n=l.onmessage;l.onmessage=null,l.onmessage=n}function s(e){var t;switch(e.charAt(0)){case"R":u._reset();break;case"I":u._initialize();break;case"U":d=JSON.parse(e.substring(1)),o(u._update);break;case"C":d=JSON.parse(e.substring(1)),o(u._collectData);break;case"M":t=JSON.parse(e.substring(1)),u[t.method]&&console.log("View function: <"+t.method+"> with data: <"+t.data+"> ignored. View function does not exist."),u[t.method](t.data);break;case"P":t=JSON.parse(e.substring(1)),u[t.element]?u[t.element].setProperty(t.property,t.value):console.log("setProperty<"+t.property+"> with value: <"+t.value+"> to element <"+t.element+"> ignored. Element does not exist!");break;case"E":t=JSON.parse(e.substring(1)),u[t.element]?u[t.element][t.method](t.data):console.log("Message <"+t.method+"> to element <"+t.element+"> ignored. Element does not exist!");break;case"F":t=JSON.parse(e.substring(1)),u[t.element]?u[t.element][t.method](t.data):console.log("Message with object <"+t.method+"> to element <"+t.element+"> ignored. Element does not exist!");break;default:console.log("view process input error : Unrecognised command: "+e)}}function o(e){e(),u._render(),i("O")}var u=EJSS_CORE.createView(e),a=10,f=500,l,c={},h=!1,p=0,d={},v=[],m=[],g=[],y=[],b=!1,w=!1,E="",S=!0,x=0,T="";u._23=function(){return"ConnectionWS"},u._connectToServer=function(){try{l=new WebSocket(T),console.log("Connecting... (readyState "+l.readyState+")"),l.onopen=function(e){h=!0,p=0,console.log("Openhd Event: "+e.type+" - Message: "+e.data),i("A",{variables:v,actions:m})},l.onclose=function(e){p<a&&(window.setTimeout(function(){u._connectToServer()},f),p++),h=!1,console.log("Closehd Event: "+e.type+" - Message: "+e.data+" - Reopen: "+p)},l.onerror=function(e){h=!1,console.log("Errorhd Event: "+e.type+" - Message: "+e.data)},l.onmessage=function(e){s(e.data)}}catch(e){console.log(e)}u._update(),u._render()},u._getValue=function(e){return h?d[e]:u._10(e)},super_registerVariable=u._5,super_registerAction=u._7,super_startUp=u._11,u._11=function(){super_startUp(),u._connectToServer()},u._5=function(e,t,n){super_registerVariable(e,t),n?u._13(e,function(){return u._getValue(e)},null,t):(v.push(e),u._13(e,function(){return u._getValue(e)},function(t){g.push({name:e,value:t})},t))},u._7=function(e){super_registerAction(e),m.push(e),u._setAction(e,function(t){y.push({name:e,argument:t})})},u._18=function(){u._16(),i("I",{properties:g,actions:y}),g=[],y=[]},u.getLinkingURL=function(){return E},u.createLinkingButtons=function(){u._9(EJSS_INTERFACE.button,"_linkingButton_").setAction("OnClick",function(){var e=u.getLinkingURL();window.alert(e.toString())}).setProperties({Text:"@",FontSize:"8px"}),u._9(EJSS_INTERFACE.button,"_qrButton_").setAction("OnClick",function(){var e=encodeURIComponent(u.getLinkingURL()),t="https://chart.googleapis.com/chart?cht=qr&chl="+e+"&chs=400";window.open(t,"_blank")}).setProperties({Text:"QR",FontSize:"8px"})},u.hiddenLinkingButtons=function(){_view._linkingButton_.setVisibility("hidden"),_view._qrButton_.setVisibility("hidden")},u.showLinkingButtons=function(){_view._linkingButton_.setVisibility("visible"),_view._qrButton_.setVisibility("visible")};if(window.location.protocol.indexOf("file")!=-1){if(typeof t=="undefined"||t===null||t==0)t=8800;T="ws://localhost:"+t,S=!1}else{history.state&&(x=history.state.mServerModelPort,S=!1);if(typeof n=="undefined"||n===null||n==""){var N=window.location.host,C=window.location.protocol;n=C+"//"+N+"/ejsS_library/models"}if(typeof r=="undefined"||r===null||r==""){var k=window.location.href.lastIndexOf("/_view");r=window.location.href.slice(n.length,k)}var L=new XMLHttpRequest;x>0?(L.open("GET",n+"/broker.php?model="+r+"&port="+x,!1),L.send()):(L.open("GET",n+"/broker.php?model="+r,!1),L.send());if(L.readyState==4&&L.status==200){var A=JSON.parse(L.responseText);T=A.webserver,E=n+"/linking.php?model="+r+"&port="+A.port}else console.log("WARNING: server no response!")}return S&&u.createLinkingButtons(),u};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.addToArray=function(e,t,n){EJSS_TOOLS.removeFromArray(e,t),n>=0?e.splice(n,0,t):e.push(t)},EJSS_TOOLS.removeFromArray=function(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)},EJSS_TOOLS.compareArrays=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!EJSS_TOOLS.compareArrays(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.ConnectionWS={},EJSS_TOOLS.connectionWS=function(e){function t(){try{a=new WebSocket(e),console.log("Connecting... (readyState "+a.readyState+")")}catch(t){console.log(t)}}function n(e,t){switch(e){case"onopen":a.onopen=function(e){t(e)};break;case"onmessage":a.onmessage=function(e){t(e)};break;case"onclose":a.onclose=function(e){t(e)};break;case"onerror":a.onerror=function(e){t(e)};break;default:}}function r(e){var t=e.data.split(" ");f[t[0]]=e.data.substring(t[0].length+1)}function i(e){l=!0,console.log("Openhd Event: "+e.type+" - Message: "+e.data)}function s(e){l=!1,console.log("Closehd Event: "+e.type+" - Message: "+e.data)}function o(e){l=!1,console.log("Errorhd Event: "+e.type+" - Message: "+e.data)}var u={},a,f={},l;return u._23=function(){return"ConnectionWS"},u.get=function(e){var t=f[e];if(typeof t!="undefined"||t==null)return t},u.set=function(e,t){console.log("set:"+e+":"+t.toString()),console.log("set:is open="+l);if(l){var n=e+" "+t.toString();a.send(n),u.reset()}},u.reset=function(){var e=a.onmessage;a.onmessage=null,a.onmessage=e},t(),n("onopen",i),n("onclose",s),n("onerror",o),n("onmessage",r),u};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.DisplayColors={phaseColors:{},lineColors:["rgb(255,0,0)","rgb(0,240,0)","rgb(0,0,255)","rgb(240,240,0)","rgb(0,240,240)","rgb(255,0,255)"],markerColors:["rgb(255,0,0)","rgb(0,240,0)","rgb(0,0,255)","rgb(240,240,0)","rgb(0,240,240)","rgb(255,0,255)"],arrayColors:{red:[255,0,0],darkgreen:[0,240,0],blue:[0,0,255],darkyellow:[240,240,0],darkcyan:[0,240,240],magenta:[255,0,255],black:[0,0,0],white:[255,255,255],green:[0,255,0],yellow:[255,255,0],cyan:[0,255,255],grey:[125,125,125]},getLineColor:function(e){var t=EJSS_TOOLS.DisplayColors.lineColors[e];if(t===undefined){var n=e*360/12%360;t="hsl("+n+",100%,50%)",EJSS_TOOLS.DisplayColors.lineColors[e]=t}return t},getMarkerColor:function(e){var t=EJSS_TOOLS.DisplayColors.markerColors[e];if(t===undefined){var n=e*360/12%360;t="hsl("+n+",100%,100%)",EJSS_TOOLS.DisplayColors.markerColors[e]=t}return t},getArrayColor:function(e){if(e.indexOf("rgb")==0)var t=e.substring(4,e.length-1).replace(/ /g,"").split(",");else if(e.indexOf("#")==0){e=e.slice(1),e=e.toUpperCase();var n="0123456789ABCDEF",t=new Array(3),r=0,i,s;for(var o=0;o<6;o+=2)i=n.indexOf(e.charAt(o)),s=n.indexOf(e.charAt(o+1)),t[r]=i*16+s,r++}else{var t=EJSS_TOOLS.DisplayColors.arrayColors[e];t===undefined&&(t=EJSS_TOOLS.DisplayColors.markerColors.black)}return[t[0]/255,t[1]/255,t[2]/255]}};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.enumeration=function(e){var t=function(){throw"Can't Instantiate Enumerations"},n=t.prototype={constructor:t,toString:function(){return this.name},valueOf:function(){return this.value},toJSON:function(){return this.name}};t.values=[];for(var r in e){var i=inherit(n);i.name=r,i.value=e[r],t[r]=i,t.values.push(i)}return t.foreach=function(e,t){for(var n=0;n<this.values.length;n++)e.call(t,this.values[n])},t};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.File={JSLoaded:"",loadJSfile:function(e,t){if(EJSS_TOOLS.File.JSLoaded.indexOf("["+e+"]")!=-1){console.log("File already loaded "+e),t();return}EJSS_TOOLS.File.JSLoaded+="["+e+"]";var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),typeof t!="undefined"&&(n.onload=t),document.getElementsByTagName("head")[0].appendChild(n)},plainName:function(e){var t=e.lastIndexOf("/");return t>=0&&(e=e.substring(t+1)),t=e.indexOf("."),t>0&&(e=e.substring(0,t)),e}};var EJSS_TOOLS=EJSS_TOOLS||{};EJSS_TOOLS.Mathematics={TWO_PI:6.2831852,TO_RADIANS:Math.PI/180,LOG10SCALE:1/Math.log(10),cosineAndSine:[],cosineAndSineForDegrees:function(e){e%=360,e<0&&(e+=360);var t=this.cosineAndSine[e];if(t===undefined){var n=e*this.TO_RADIANS;t=[Math.cos(n),Math.sin(n)]}return t},degrees:function(e){var t=e*180/Math.PI,n=t%360;return t=n*360<0?n+360:n,t},norm:function(e){var t=0;for(var n=0;n<e.length;n++)t+=e[n]*e[n];return Math.sqrt(t)},crossProduct:function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},normalize:function(e){var t=EJSS_TOOLS.Mathematics.norm(e);return[e[0]/t,e[1]/t,e[2]/t]},normalTo:function(e){if(e[0]==0)return[1,0,0];if(e[1]==0)return[0,1,0];if(e[2]==0)return[0,0,1];var t=EJSS_TOOLS.Mathematics.norm(e);return[-e[1]/t,e[0]/t,0]}};var EJSS_CORE=EJSS_CORE||{};EJSS_CORE.createView=function(e){function t(e,t){return e.match("^"+t)==t}var n={},r,i={},s={},o=[],u=[],a=[],f=[],l=[],c=[],h=!1,p=!0,d=[],v,m;return n._1=function(){n[e].innerHTML="",i={},s={},o=[],u=[],d=[],a=[],f=[],l=[],c=[],h=!1,p=!0},n._2=function(e){v=e},n._3=function(e){if(e==null||e.length<=0)return e;if(m){if(t(e,m))return e;if(e.charAt(0)=="/")return m+"images"+e}return v?t(e,v)?e:v+e:e},n._4=function(e){m=e},n._5=function(e,t){i[e]={getter:null,setter:null,listeners:[],collectors:[],value:t}},n._5s=function(e){for(var t=0;t<e.length;t++)n._5(e[t])},n._7=function(e){s[e]={action:null}},n._7s=function(e){for(var t=0;t<e.length;t++)n._7(e[t])},n._9=function(e,t,r){var i=EJSS_CORE.promoteToControlElement(e(t),n,t);return i.render&&l.push(i),i.reset&&a.push(i),i.initialize&&f.push(i),t&&(n[t]=i),r&&i.setProperty("Parent",r),i},n._10=function(e){var t=i[e];return t!==undefined?t.value:undefined},n._11=function(){n._reset(),n._15(),n._initialize(),n._update(),n._render()},n._12=function(e){r=e},n._13=function(e,t,n,r){var s=i[e];if(!s)console.log("WARNING: view._setAccessors() - Variable not found : "+e);else{s.getter=t,s.setter=n,s.value=r;var o=u.indexOf(s);s.getter?s.listeners.length>0&&o<0&&u.push(s):o>=0&&u.splice(o,1),o=d.indexOf(s),s.value?s.listeners.length>0&&o<0&&d.push(s):o>=0&&d.splice(o,1)}return s},n._setAction=function(e,t){var n=s[e];return n?n.action=t:console.log("WARNING: view._setAction() - Action not found : "+e),n},n._14=function(e){p=e},n._reset=function(){for(var e=0,t=a.length;e<t;e++)a[e].reset()},n._15=function(){for(var e=0,t=d.length;e<t;e++){var n=d[e],r=n.value;if(r){var i=n.listeners;for(var s=0,o=i.length;s<o;s++)i[s](r)}}},n._initialize=function(){for(var e=0,t=f.length;e<t;e++)f[e].initialize()},n._update=function(){var e,t;for(e=0,t=u.length;e<t;e++){var n=u[e],r=n.listeners,i=n.getter();for(var s=0,a=r.length;s<a;s++)r[s](i)}for(e=0,t=o.length;e<t;e++){var f=o[e];f.propertySetter(f.getter())}},n._collectData=function(){var e,t;for(e=0,t=u.length;e<t;e++){var n=u[e],r=n.collectors,i=n.getter();for(var s=0,a=r.length;s<a;s++)r[s](i)}for(e=0,t=o.length
;e<t;e++){var f=o[e];f.isCollector&&f.propertySetter(f.getter())}},n._render=function(){for(var e=0,t=l.length;e<t;e++)l[e].render()},n._16=function(){var e=c.length;if(e<=0)return!1;h=!0;for(var t=0;t<e;t++){var n=c[t];n.what(n.data)}return c=[],h=!1,!0},n._17=function(){return c.length},n._18=function(){r&&p&&r()},n._19=function(e,t,n){var r=i[e];return r?(r.listeners.indexOf(t)<0&&(r.listeners.push(t),n&&r.collectors.push(t)),r.getter&&u.indexOf(r)<0&&u.push(r),r.value&&d.indexOf(r)<0&&d.push(r)):console.log("WARNING: view._19() - Variable not found : "+e),r},n._20=function(e,t,n){var r=!1;for(var i=0,s=o.length;i<s;i++){var u=o[i];if(u.propertySetter===t){u.getter=e,r=!0;break}}return r||o.push({getter:e,propertySetter:t,isCollector:n}),r},n._21=function(e){var t=s[e];return t||console.log("WARNING: view._21() - Action not found : "+e),t},n._22=function(e,t){if(!r){e(t);return}!h&&p&&c.push({what:e,data:t})},n._format=function(e,t){var n=t.indexOf("."),r=0;return n>=0&&(r=Number(t.length-n-1)),parseFloat(e).toFixed(r)},n.print=function(e){var t=document.getElementsByTagName("textarea");t.length?t[0].innerHTML=e:console.log(e)},n._setVisible=function(t){t?document.getElementById(e).style.display="inherit":document.getElementById(e).style.display="none"},n._switchVisibility=function(){n._setVisible(document.getElementById(e).style.display=="none")},n[e]=document.getElementById(e),n},EJSS_CORE.promoteToControlElement=function(e,t,n){n=n||"unnamed";var r={},i={};return e._0=function(e){n=e},e.getName=function(){return n},e.getResourcePath=function(e){return t._3(e)},e.registerProperty=function(t,n,i){return r[t]={setter:n,getter:i,variable:null,variableSetter:null},e},e.registerAction=function(t,n,r,s){return i[t]={action:null,helper:n,process:r},s&&e.setAction(t,s),e},e.setProperty=function(t,n){var s=i[t];if(s)return e.setAction(t,n);var o=r[t];return o?o.setter(n):console.log("WARNING: ControlElement setProperty() - Property not registered : "+t+" for element : "+e.getName()),e},e.setProperties=function(t){for(var n in t)e.setProperty(n,t[n]);return e},e.linkProperty=function(n,i,s){var o=r[n];if(!o)return console.log("WARNING: ControlElement linkProperty() - Element property not registered : "+n+" for element : "+e.getName()),e;if(typeof i=="string"){var u=t._19(i,o.setter,e.isCollector);if(!u)return console.log("WARNING: ControlElement linkProperty() - element : "+e.getName()+" - property :"+n+" - View variable not registered : "+i),e;s!=="InputOnly"&&(o.variable=u),o.variableSetter=null}else t._20(i,o.setter,e.isCollector),o.variableSetter=s,o.variable=null;return e},e.linkProperties=function(t){for(var n in t)e.linkProperty(n,t[n]);return e},e.setAction=function(n,r){var s=i[n];if(!s)return console.log("WARNING: ControlElement setAction() - action not registered : "+n+" for element : "+e.getName),e;if(typeof r=="string"){var o=t._21(r);if(!o)return console.log("WARNING: ControlElement setAction() - element : "+e.getName()+" - View action not registered : "+r),e;s.action=o}else s.action={action:r};return e},e.setActions=function(t){for(var n in t)e.setAction(n,t[n]);return e},e.invokeAction=function(n){var r=i[n];if(r){r.process&&t._22(r.process,null);if(r.action){var s=r.helper?r.helper():null;t._22(r.action.action,s)}}return e},e.propertiesChanged=function(){for(var n=0,i=arguments.length;n<i;n++){var s=r[arguments[n]];if(s){var o=s.variableSetter;o||s.variable&&(o=s.variable.setter),o||s.setter&&(o=s.setter),o&&t._22(o,s.getter())}}return e},e.reportInteractions=function(n,r){var i,s;if(n)for(i=0,s=n.length;i<s;i++)e.invokeAction(n[i]);if(r)for(i=0,s=r.length;i<s;i++)e.propertiesChanged(r[i]);return t._17()>0&&t._18(),e},e.getProperty=function(e,t){var n=r[e];return n&&n.getter?n.getter():undefined},e.getProperties=function(){return r},e.registerProperty("name",e._0,e.getName),e.registerProperties&&e.registerProperties(e),e};
function SimpleFerrisWheel(e,t,n){function a(){r.play()}function f(){r.pause()}function l(){r.pause(),r.step()}function c(){r.reset()}function h(){r.update()}function p(){r.initialize()}function d(e){r.setFPS(e)}function v(e){r.setDelay(e)}function m(e){r.setStepsPerDisplay(e)}function g(e){r.setUpdateView(e)}function y(e){r.setAutoplay(e)}function b(e){console.log(e)}function w(){r.setShouldBreak(!0)}function M(){var e=[],t=0;return e[t++]={name:"HtmlView Page",width:500,height:500},e}function _(s){i=null,i=new SimpleFerrisWheel_View(e,s,t,n);var u=i._reset;i._reset=function(){u();switch(s){case-10:break;default:case 0:i.drawingPanel.linkProperty("MinimumY",function(){return-1.6*C}),i.drawingPanel.linkProperty("MinimumX",function(){return-1.6*C}),i.drawingPanel.linkProperty("MaximumY",function(){return 1.6*C}),i.drawingPanel.linkProperty("MaximumX",function(){return 1.6*C}),i.centerShape.linkProperty("SizeX",function(){return 2*C}),i.centerShape.linkProperty("SizeY",function(){return 2*C}),i.arrowSet.linkProperty("NumberOfElements",function(){return E},function(e){E=e}),i.arrowSet.linkProperty("SizeX",function(){return x},function(e){x=e}),i.arrowSet.linkProperty("Y",function(){return S},function(e){S=e}),i.arrowSet.linkProperty("SizeY",function(){return T},function(e){T=e}),i.arrowSet.linkProperty("X",function(){return S},function(e){S=e}),i.shapeSet.linkProperty("NumberOfElements",function(){return E},function(e){E=e}),i.shapeSet.linkProperty("SizeX",function(){return C/10}),i.shapeSet.linkProperty("FillColor",function(){return N},function(e){N=e}),i.shapeSet.linkProperty("Y",function(){return T},function(e){T=e}),i.shapeSet.linkProperty("SizeY",function(){return C/10}),i.shapeSet.linkProperty("X",function(){return x},function(e){x=e}),i.aText.linkProperty("Y",function(){return-1.5*C}),i.bText.linkProperty("X",function(){return 1.35*C}),i.cText.linkProperty("Y",function(){return 1.35*C}),i.runPauseButton.linkProperty("State",function(){return o}),i.runPauseButton.setAction("OffClick",f),i.runPauseButton.setAction("OnClick",function(){a()}),i.stepButton.setAction("OnClick",function(){l()}),i.resetButton.setAction("OnClick",function(){c()}),i.tField.linkProperty("Value",function(){return A},function(e){A=e})}},r.setView(i),r.reset()}var r=EJSS_CORE.createAnimation(),i,s=!1,o=!0,u=navigator===undefined?!1:navigator.userAgent.match(/iPhone|iPad|iPod|Android|BlackBerry|Opera Mini|IEMobile/i),E,S,x,T,N,C,k,L,A,O;return r.addToReset(function(){E=12,S=new Array(E),function(){var e;for(e=0;e<E;e+=1)S[e]=0}(),x=new Array(E),T=new Array(E),N=new Array(E),function(){var e;for(e=0;e<E;e+=1)N[e]="rgb(255,0,0)"}(),C=6,k=0,L=Math.PI/20,A=0,O=.1}),r.addToInitialization(function(){N[0]="Red";for(var e=1;e<E;e++)N[e]="#"+Math.random().toString().substring(4,10)}),r.addToEvolution(function(){A+=O}),r.addToFixedRelations(function(){var e=2*Math.PI/E,t=k+L*A;for(var n=0;n<E;n++)x[n]=1.25*C*Math.cos(t),T[n]=1.25*C*Math.sin(t),t+=e}),r.addToFixedRelations(function(){o=r.isPaused(),s=r.isPlaying()}),r.setAutoplay(!1),r.setFPS(20),r.setStepsPerDisplay(1),_(r._autoSelectView(M())),r}function SimpleFerrisWheel_View(e,t,n,r){var i;switch(t){case-10:break;default:case 0:i=SimpleFerrisWheel_View_0(e)}return r&&i._2(r),n&&i._4(n),i}function SimpleFerrisWheel_View_0(e){var t=EJSS_CORE.createView(e);return t._reset=function(){t._1(),t._9(EJSS_INTERFACE.panel,"labelPanel",t._topFrame),t._9(EJSS_INTERFACE.imageAndTextButton,"labelTitle",t.labelPanel).setProperty("Text","<h1>Ferris Wheel</h1>").setProperty("Foreground","Blue"),t._9(EJSS_INTERFACE.panel,"mainPanel",t._topFrame).setProperty("CSS",{display:"inline-block"}),t._9(EJSS_INTERFACE.panel,"centerPanel",t.mainPanel),t._9(EJSS_DRAWING2D.drawingPanel,"drawingPanel",t.centerPanel).setProperty("Height",350).setProperty("Width",350).setProperty("SquareAspect",!0).setProperty("Enabled",!0),t._9(EJSS_DRAWING2D.shape,"centerShape",t.drawingPanel).setProperty("LineWidth",3).setProperty("DrawFill",!1).setProperty("DrawLines",!0).setProperty("Y",0).setProperty("X",0),t._9(EJSS_DRAWING2D.arrowSet,"arrowSet",t.drawingPanel).setProperty("LineWidth",2),t._9(EJSS_DRAWING2D.shapeSet,"shapeSet",t.drawingPanel),t._9(EJSS_DRAWING2D.text,"aText",t.drawingPanel).setProperty("Text","A").setProperty("X",0).setProperty("RelativePosition","EAST"),t._9(EJSS_DRAWING2D.text,"bText",t.drawingPanel).setProperty("Text","B").setProperty("Y",0).setProperty("RelativePosition","SOUTH"),t._9(EJSS_DRAWING2D.text,"cText",t.drawingPanel).setProperty("Text","C").setProperty("X",0).setProperty("RelativePosition","EAST"),t._9(EJSS_INTERFACE.panel,"bottomPanel",t.mainPanel),t._9(EJSS_INTERFACE.panel,"bottomLeftPanel",t.bottomPanel).setProperty("CSS",{"float":"left"}),t._9(EJSS_INTERFACE.twoStateButton,"runPauseButton",t.bottomLeftPanel).setProperty("ImageOffUrl","/org/opensourcephysics/resources/controls/images/pause.gif").setProperty("ImageOnUrl","/org/opensourcephysics/resources/controls/images/play.gif"),t._9(EJSS_INTERFACE.button,"stepButton",t.bottomLeftPanel).setProperty("Tooltip","Single step").setProperty("ImageUrl","/org/opensourcephysics/resources/controls/images/stepforward.gif"),t._9(EJSS_INTERFACE.button,"resetButton",t.bottomLeftPanel).setProperty("Tooltip","Resets the simulation").setProperty("ImageUrl","/org/opensourcephysics/resources/controls/images/reset.gif"),t._9(EJSS_INTERFACE.panel,"bottomRightPanel",t.bottomPanel).setProperty("CSS",{"float":"right"}),t._9(EJSS_INTERFACE.imageAndTextButton,"tLabel",t.bottomRightPanel).setProperty("Text","t = "),t._9(EJSS_INTERFACE.numberField,"tField",t.bottomRightPanel).setProperty("Width",60).setProperty("Editable",!1).setProperty("Tooltip","time is seconds").setProperty("Format","0.00"),t._9(EJSS_INTERFACE.panel,"textPanel",t._topFrame),t._9(EJSS_INTERFACE.html,"htmlArea",t.textPanel).setProperty("Html","<b>Find the net force on a 50 kg rider at  locations A, B, and C.<b>").setProperty("TextAlign","left")},t}
//--><!]]></script>
  </head>
  <body>
    <div id="_topFrame" style="text-align:center"></div>
  <div id="metadata" class="metadata">
    <br />
    <hr />
    <b>Title and author:</b>
    <p>
    Simple Ferris Wheel<br />
   <img alt="Logo" src="SimpleFerrisWheel/SimpleFerris.png" />
    </p>
    <p>
    <img alt="author image" src="images/WC_logo.png" />
 Wolfgang Christian
    </p>
    <hr />
    <p></p>
    <div id="copyright_message">
      <div class="cc_left"  style="float:left">&copy; 2013, Wolfgang Christian.</div>
      <div class="cc_right" style="float:right">    Released under a <a rel="license" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.en_US"> <img alt="Creative Commons Attribution-NonCommercial" src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" /> </a> license.</div>
    </div>
  </div>
    <script type="text/javascript"><!--//--><![CDATA[//><!--
      window.addEventListener('load', function () {  new SimpleFerrisWheel("_topFrame","_ejs_library/",null);
 }, false);
    //--><!]]></script>
  </body>
</html>
